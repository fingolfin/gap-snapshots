<Chapter Label="ChangesGAP45toGAP46"> 
<Heading>Changes between &GAP; 4.5 and &GAP; 4.6</Heading>

This chapter lists most important changes between 
&GAP; 4.5.7 and &GAP; 4.6.1 
(i.e. between the last release of &GAP; 4.5 
and the first public release of &GAP; 4.6).
Later it will also contain information 
about subsequent update releases for &GAP; 4.6.

<Section Label="fix461"> 
<Heading>&GAP; 4.6.1 (January 2013)</Heading>

<Subsection Label="Changes in the core GAP46 system"> 
<Heading>Changes in the core &GAP; system</Heading>

Improved and extended functionality:
<List>  
<Item>
It is now possible to declare a name as an operation with 
two or more arguments (possibly several times) and <E>THEN</E> declare
it as an attribute. Previously this was only possible in 
the other order. This should make the system more independent of 
the order in which packages are loaded.
</Item>
<Item>
Words in fp groups are now printed in factorised form if possible and not
too time-consuming, i.e. <C>a*b*a*b*a*b</C> will be printed as <C>(a*b)^3</C>.
</Item>       
<Item>
Added methods to calculate Hall subgroups in nonsolvable groups.
</Item>
<Item>
Added a generic method for <Ref Prop="IsPSolvable" BookName="ref"/> and 
a better generic method for <Ref Prop="IsPNilpotent" BookName="ref"/> for 
groups. 
</Item>
<Item>
Improvements to action homomorphisms: image of an element can use existing 
stabiliser chain of the image group (to reduce the number of images to 
compute), preimages under linear/projective action homomorphisms use 
linear algebra to avoid factorisation.
</Item>
<Item>
To improve efficiency, additional code was added to make sure that the 
<C>HomePcgs</C> of a permutation group is in <C>IsPcgsPermGroupRep</C> 
representation in more cases.
</Item>
<Item>
Added an operation <Ref Oper="SortBy" BookName="ref"/> with arguments being
a function <A>f</A> of one argument and a list <A>l</A> to be sorted in
such a way that <C><A>l</A>(<A>f</A>[i]) &lt;= <A>l</A>(<A>f</A>[i+1])</C>.
</Item>
<Item>
Added a kernel function <C>MEET_BLIST</C> which returns <K>true</K> if the 
two boolean lists have <K>true</K> in any common position and <K>false</K> 
otherwise. This is useful for representing subsets of a fixed set by boolean
lists.
</Item>
<Item>
When assigning to a position in a compressed FFE vector &GAP; now checks to 
see if the value being assigned can be converted into an internal FFE 
element if it isn't one already. This uses new attribute 
<Ref Oper="AsInternalFFE" BookName="ref"/>, for which 
methods are installed for internal FFEs, Conway FFEs and ZmodpZ objects.
</Item>
<Item>
Replaced <Ref Oper="ViewObj" BookName="ref"/> method for fields by 
<Ref Oper="ViewString" BookName="ref"/> method to improve the way
how polynomial rings over algebraic extenstions of fields are displayed.
</Item>
<Item>
Made the info string (optional 2nd argument to 
<Ref Func="InstallImmediateMethod" BookName="ref"/>) 
behave similarly to the info string in 
<Ref Func="InstallMethod" BookName="ref"/>.
In particular, <Ref Func="TraceImmediateMethods" BookName="ref"/>
now always prints the name of the operation.
</Item>
<Item>
Syntax errors such as <C>Unbind(x,1)</C> had the unhelpful
property that <C>x</C> got unbound before the syntax error
was reported. A specific check was added to catch this and
similar cases a little earlier.
</Item>
<Item>
Allow a <C>GAPARGS</C> parameter to the top-level &GAP; <F>Makefile</F> to pass
extra arguments to the &GAP; used for manual building.
</Item>
<Item>
Added an attribute <Ref Attr="UnderlyingRingElement" BookName="ref"/> for Lie objects.
</Item>
<Item>
The function <Ref Attr="PrimeDivisors" BookName="ref"/> now became an attribute.
[suggested by Mohamed Barakat]
</Item>
<Item>
Added an operation <Ref Oper="DistancePerms" BookName="ref"/> with a kernel method for 
internal permutations and a generic method.
</Item>
<Item>
Added a method for <Ref Oper="Subfields" BookName="ref"/> to support large finite fields. 
[reported by Inneke van Gelder]
</Item>
</List>

Fixed bugs which could lead to crashes:
<List>              
<Item>
The extremely old <C>DEBUG_DEADSONS_BAGS</C> compile-time
option has not worked correctly for many years and indeed crashes &GAP;.
The type of bug it is there to detect has not arisen in many years and we 
have certainly not used this option, so it has been removed.
[Reported by Volker Braun]
</Item>
</List>

Other fixed bugs:

<List>
<Item>
Scanning of floating point literals collided with iterated use of integers 
as record field elements in expressions like <C>r.1.2</C>.
</Item>
<Item>
Fixed two potential problems in <C>NorSerPermPcgs</C>, one corrupting
some internal data and one possibly mixing up different pcgs. 
</Item>
<Item>
Fixed a performance problem with <Ref Oper="NiceMonomorphism" BookName="ref"/>.
[reported by John Bamberg]
</Item>
<Item>
Fixed a bug in <Ref Func="ReadCSV" BookName="ref"/> that caused some 
<F>.csv</F> files being parsed incorrectly.
</Item>
</List>

No longer supported:
<List>  
<Item>
The file <File>lib/consistency.g</File>, which contained three undocumented
auxiliary functions, has been removed from the library. In addition, the 
global record <C>Revision</C> is now deprecated, so there is no need to
bind its components in &GAP; packages.
</Item>
</List>

</Subsection>

<Subsection Label="New and updated packages since GAP 4.5.4"> 
<Heading>New and updated packages since &GAP; 4.5.4</Heading>

<Index>Packages, new</Index>
At the time of the release of &GAP; 4.5 there were 99 packages redistributed with &GAP;. 
The first public release of &GAP;&nbsp;4.6 contains 106 packages. 
<P/>

The new packages that have been added to the redistribution 
since the release of &GAP; 4.5.4 are: 

<List>
<Item>
<Package>AutoDoc</Package> package by S. Gutsche,
providing tools for automated generation of <Package>GAPDoc</Package> manuals.
</Item>
<Item>
<Package>Congruence</Package> package by A. Konovalov,
which provides functions to construct various canonical 
congruence subgroups in <M>SL_2(&ZZ;)</M>, and also 
intersections of a finite number of such subgroups, 
implements the algorithm for generating Farey symbols for
congruence subgroups and uses it to produce a system of 
independent generators for these subgroups. 
</Item>
<Item>
<Package>Convex</Package> package by S. Gutsche,
which provides structures and algorithms for convex geometry. 
</Item>
<Item>
<Package>Float</Package> package by L. Bartholdi, which extends &GAP;
floating-point capabilities by providing new floating-point handlers for 
high-precision real, interval and complex arithmetic using MPFR, MPFI, 
MPC or CXSC external libraries. It also contains a very high-performance 
implementation of the LLL (Lenstra-Lenstra-Lov√°sz) lattice reduction 
algorithm via the external library FPLLL. 
</Item>
<Item>
<Package>PolymakeInterface</Package> package by T. Baechler and S. Gutsche, 
providing a link to the callable library of the <Package>polymake</Package> 
system (<URL>http://www.polymake.org</URL>).
</Item>
<Item>
<Package>ToolsForHomalg</Package> package by M. Barakat, S. Gutsche and
M. Lange-Hegermann, which provides some auxiliary functionality for the
<Package>homalg</Package> project (<URL>http://homalg.math.rwth-aachen.de/</URL>).
</Item>
<Item>
<Package>ToricVarieties</Package> package by S. Gutsche,
which provides data structures to handle toric varieties by their 
commutative algebra structure and by their combinatorics. 
</Item>
</List>

<Index>Packages, upgraded</Index>
Furthermore, some packages have been upgraded substantially 
since the &GAP;&nbsp;4.5.4 release:
<List>
<Item>
Starting from 2.x.x, the functionality for iterated monodromy 
groups has been moved from the <Package>FR</Package> package 
by L. Bartholdi to a separate package IMG (currently undeposited, 
available from <URL>https://github.com/laurentbartholdi/img</URL>).
This completely removes the dependency of <Package>FR</Package> 
on external library modules, and should make its installation much easier.
</Item>
</List>

</Subsection>

</Section>

</Chapter>


<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% --> 
<!-- %% --> 
<!-- %E -->
