<?xml version="1.0" encoding="UTF-8"?>

<!-- This is an automatically generated file. -->
<Chapter Label="Chapter_CAP_Categories">
<Heading>CAP Categories</Heading>

<P/>
Categories are the main GAP objects in CAP.
They are used to associate GAP objects which represent objects and
morphisms with their category. By associating a GAP object to the
category, one of two filters belonging to the category (ObjectFilter/MorphismFilter)
are set to true.
Via Add methods, functions for specific existential quantifiers can be
associated to the category and after that can be applied to GAP objects in the category.
A GAP category object also knows which constructions
are currently possible in this category.

<Section Label="Chapter_CAP_Categories_Section_Categories">
<Heading>Categories</Heading>

<ManSection>
  <Filt Arg="object" Name="IsCapCategory" Label="for IsObject"/>
 <Returns><C>true</C> or <C>false</C>
</Returns>
 <Description>
The GAP category of CAP categories. Objects of this type handle
the CAP category information, the caching, and filters for objects in the CAP category.
Please note that the object itself is not related to methods, you only need it
as a handler and a presentation of the CAP category.
 </Description>
</ManSection>


<ManSection>
  <Filt Arg="object" Name="IsCapCategoryCell" Label="for IsAttributeStoringRep"/>
 <Returns><C>true</C> or <C>false</C>
</Returns>
 <Description>
The GAP category of CAP category cells.
Every object, morphism, and <Math>2</Math>-cell
of a CAP category lies in this GAP category.
 </Description>
</ManSection>


<ManSection>
  <Filt Arg="object" Name="IsCapCategoryObject" Label="for IsCapCategoryCell"/>
 <Returns><C>true</C> or <C>false</C>
</Returns>
 <Description>
The GAP category of CAP category objects.
Every object of a CAP category lies in
this GAP category.
 </Description>
</ManSection>


<ManSection>
  <Filt Arg="object" Name="IsCapCategoryMorphism" Label="for IsCapCategoryCell"/>
 <Returns><C>true</C> or <C>false</C>
</Returns>
 <Description>
The GAP category of CAP category morphisms.
Every morphism of a CAP category lies in
this GAP category.
 </Description>
</ManSection>


<ManSection>
  <Filt Arg="object" Name="IsCapCategoryTwoCell" Label="for IsCapCategoryCell"/>
 <Returns><C>true</C> or <C>false</C>
</Returns>
 <Description>
The GAP category of CAP category <Math>2</Math>-cells.
Every <Math>2</Math>-cell of a CAP category lies in
this GAP category.
 </Description>
</ManSection>


<ManSection>
  <Func Arg="list" Name="AddCategoricalProperty" />
 <Description>
Adds a categorical property to the list of CAP
categorical properties. <A>list</A> must be a list
containing one entry, if the property is self dual,
or two, if the dual property has a different name.
If the first entry of the list is empty and the second
is a property name, the property is assumed to have no
dual.
 </Description>
</ManSection>


</Section>


<Section Label="Chapter_CAP_Categories_Section_Constructor">
<Heading>Constructor</Heading>

<ManSection>
  <Oper Arg="" Name="CreateCapCategory" />
 <Returns>a category
</Returns>
 <Description>
Creates a new CAP category from scratch.
It gets a generic name.
 </Description>
</ManSection>


<ManSection>
  <Oper Arg="s" Name="CreateCapCategory" Label="for IsString"/>
 <Returns>a category
</Returns>
 <Description>
The argument is a string <Math>s</Math>.
This operation creates a new CAP category from scratch.
Its name is set to <Math>s</Math>.
 </Description>
</ManSection>


</Section>


<Section Label="Chapter_CAP_Categories_Section_Internal_Attributes">
<Heading>Internal Attributes</Heading>

Each category <Math>C</Math> stores various filters.
They are used to apply the right functions in the method selection.
<ManSection>
  <Attr Arg="C" Name="CategoryFilter" Label="for IsCapCategory"/>
 <Returns>a filter
</Returns>
 <Description>
The argument is a category <Math>C</Math>.
The output is a filter in which <Math>C</Math> lies.
 </Description>
</ManSection>


<ManSection>
  <Attr Arg="C" Name="CellFilter" Label="for IsCapCategory"/>
 <Returns>a filter
</Returns>
 <Description>
The argument is a category <Math>C</Math>.
The output is a filter in which all cells
of <Math>C</Math> shall lie.
 </Description>
</ManSection>


<ManSection>
  <Attr Arg="C" Name="ObjectFilter" Label="for IsCapCategory"/>
 <Returns>a filter
</Returns>
 <Description>
The argument is a category <Math>C</Math>.
The output is a filter in which all objects
of <Math>C</Math> shall lie.
 </Description>
</ManSection>


<ManSection>
  <Attr Arg="C" Name="MorphismFilter" Label="for IsCapCategory"/>
 <Returns>a filter
</Returns>
 <Description>
The argument is a category <Math>C</Math>.
The output is a filter in which all morphisms
of <Math>C</Math> shall lie.
 </Description>
</ManSection>


<ManSection>
  <Attr Arg="C" Name="TwoCellFilter" Label="for IsCapCategory"/>
 <Returns>a filter
</Returns>
 <Description>
The argument is a category <Math>C</Math>.
The output is a filter in which all <Math>2</Math>-cells
of <Math>C</Math> shall lie.
 </Description>
</ManSection>


<ManSection>
  <Attr Arg="C" Name="CommutativeRingOfLinearCategory" Label="for IsCapCategory"/>
 <Returns>a ring
</Returns>
 <Description>
The argument is a category <Math>C</Math> which is expected to lie in the
filter <C>IsLinearCategoryOverCommutativeRing</C>.
The output is a commutative ring over which the category is linear.
 </Description>
</ManSection>


</Section>


<Section Label="Section_Logic_switcher">
<Heading>Logic switcher</Heading>

<ManSection>
  <Func Arg="C" Name="CapCategorySwitchLogicOn" />
 <Description>
Activates the predicate implication logic for the category <A>C</A>.
 </Description>
</ManSection>


<ManSection>
  <Func Arg="C" Name="CapCategorySwitchLogicOff" />
 <Description>
Deactivates the predicate implication logic for the category <A>C</A>.
 </Description>
</ManSection>


</Section>


<Section Label="Chapter_CAP_Categories_Section_Tool_functions">
<Heading>Tool functions</Heading>

<ManSection>
  <Oper Arg="C,s" Name="CanCompute" Label="for IsCapCategory, IsString"/>
 <Returns><C>true</C> or <C>false</C>
</Returns>
 <Description>
The argument is a category <Math>C</Math> and a string <Math>s</Math>,
which should be the name of a basic operation, e.g., PreCompose.
If applying this method is possible in <Math>C</Math>, the method returns <C>true</C>, <C>false</C> otherwise.
If the string is not the name of a basic operation, an error is raised.
 </Description>
</ManSection>


<ManSection>
  <Oper Arg="C,s" Name="CheckConstructivenessOfCategory" Label="for IsCapCategory, IsString"/>
 <Returns>a list
</Returns>
 <Description>
The arguments are a category <Math>C</Math> and a string <Math>s</Math>.
If <Math>s</Math> is a categorical property (e.g. <C>"IsAbelianCategory"</C>),
the output is a list of strings with basic operations
which are missing in <Math>C</Math> to have the categorical property
constructively.
If <Math>s</Math> is not a categorical property, an error is raised.
 </Description>
</ManSection>


</Section>


<Section Label="Chapter_CAP_Categories_Section_Well-Definedness_of_Cells">
<Heading>Well-Definedness of Cells</Heading>

<ManSection>
  <Prop Arg="c" Name="IsWellDefined" Label="for IsCapCategoryCell"/>
 <Returns>a boolean
</Returns>
 <Description>
The argument is a cell <Math>c</Math>.
The output is <C>true</C> if <Math>c</Math> is well-defined,
otherwise the output is <C>false</C>.
 </Description>
</ManSection>


</Section>


<Section Label="Section_Caching">
<Heading>Caching</Heading>

<ManSection>
  <Func Arg="category, type" Name="SetCachingOfCategory" />
 <Description>
Sets the caching of <A>category</A> to <A>type</A>.
 </Description>
</ManSection>


<ManSection Label="AutoDoc_generated_group1">
  <Func Arg="category" Name="SetCachingOfCategoryWeak" />
  <Func Arg="category" Name="SetCachingOfCategoryCrisp" />
  <Func Arg="category" Name="DeactivateCachingOfCategory" />
 <Description>
Sets the caching of <A>category</A> to <C>weak</C>, <C>crisp</C> or <C>none</C>, respectively.
<P/>
 </Description>
</ManSection>


<ManSection Label="AutoDoc_generated_group2">
  <Func Arg="type" Name="SetDefaultCaching" />
  <Func Arg="" Name="SetDefaultCachingWeak" />
  <Func Arg="" Name="SetDefaultCachingCrisp" />
  <Func Arg="" Name="DeactivateDefaultCaching" />
 <Description>
Sets the default caching behaviour, all new categories will have their caching set to either
<C>weak</C>, <C>crisp</C>, or <C>none</C>. The default at startup is <C>weak</C>.
<P/>
 </Description>
</ManSection>


</Section>


<Section Label="Section_Sanity_checks">
<Heading>Sanity checks</Heading>

<ManSection Label="AutoDoc_generated_group3">
  <Func Arg="category" Name="DisableInputSanityChecks" />
  <Func Arg="category" Name="DisableOutputSanityChecks" />
  <Func Arg="category" Name="EnablePartialInputSanityChecks" />
  <Func Arg="category" Name="EnablePartialOutputSanityChecks" />
  <Func Arg="category" Name="EnableFullInputSanityChecks" />
  <Func Arg="category" Name="EnableFullOutputSanityChecks" />
  <Func Arg="category" Name="DisableSanityChecks" />
  <Func Arg="category" Name="EnablePartialSanityChecks" />
  <Func Arg="category" Name="EnableFullSanityChecks" />
 <Description>
Most operations can perform optional sanity checks on their arguments and results.
The checks can either be partial (set by default), full, or disabled.
With the following commands you can either enable the full checks, the partial checks or, for performance, disable the checks altogether.
You can do this for input checks, output checks or for both at once.
<P/>
 </Description>
</ManSection>


</Section>


<Section Label="Section_Automatic_adds">
<Heading>Enable automatic calls of <C>Add</C></Heading>

<ManSection Label="AutoDoc_generated_group4">
  <Func Arg="C" Name="EnableAddForCategoricalOperations" />
  <Func Arg="C" Name="DisableAddForCategoricalOperations" />
 <Description>
Enables/disables the automatic call of <C>Add</C> for the output
of primitively added functions for the category <A>C</A>.
If the automatic call of <C>Add</C> is disabled (default),
the output of primitively added functions must belong to the correct category.
If the automatic call of <C>Add</C> is enabled,
the output of primitively added functions only has to be a GAP object
lying in <C>IsAttributeStoringRep</C> (with suitable attributes <C>Source</C> and <C>Range</C>
if the output should be a morphism or a twocell).
<P/>
 </Description>
</ManSection>


</Section>


<Section Label="Chapter_CAP_Categories_Section_Performance_tweaks">
<Heading>Performance tweaks</Heading>

CAP has several settings which can improve the performance.
In the following some of these are listed.
<List>
<Item>
<C>DeactivateCachingOfCategory</C>: see <Ref Sect="Section_Caching" />.
This can either improve or degrade the performance depending on the concrete example.
</Item>
<Item>
<C>CapCategorySwitchLogicOff</C>: see <Ref Sect="Section_Logic_switcher" />.
This can either improve or degrade the performance depending on the concrete example.
</Item>
<Item>
<C>DisableSanityChecks</C>: see <Ref Sect="Section_Sanity_checks" />.
</Item>
<Item>
<C>DisableAddForCategoricalOperations</C>: see <Ref Sect="Section_Automatic_adds" />.
</Item>
<Item>
<C>DeactivateToDoList</C>: see the package <C>ToolsForHomalg</C>.
</Item>
<Item>
use <C>ObjectifyObjectForCAPWithAttributes</C> (<Ref Sect="Section_Adding_Objects_to_a_Category" />)
instead of <C>AddObject</C> and
<C>ObjectifyMorphismForCAPWithAttributes</C> (<Ref Sect="Section_Adding_Morphisms_to_a_Category" />)
instead of <C>AddMorphism</C>.
</Item>
</List>
</Section>


</Chapter>

