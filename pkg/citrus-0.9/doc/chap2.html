<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>GAP (citrus) - Chapter 2: Transformations and partial permutations
</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="GAPDoc2HTML" />
<link rel="stylesheet" type="text/css" href="manual.css" />
<script src="manual.js" type="text/javascript"></script>
<script type="text/javascript">overwriteStyle();</script>
</head>
<body class="chap2"  onload="jscontent()">


<div class="chlinktop"><span class="chlink1">Goto Chapter: </span><a href="chap0.html">Top</a>  <a href="chap1.html">1</a>  <a href="chap2.html">2</a>  <a href="chap3.html">3</a>  <a href="chap4.html">4</a>  <a href="chapBib.html">Bib</a>  <a href="chapInd.html">Ind</a>  </div>

<div class="chlinkprevnexttop">&nbsp;<a href="chap0.html">[Top of Book]</a>&nbsp;  <a href="chap0.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap1.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap3.html">[Next Chapter]</a>&nbsp;  </div>

<p id="mathjaxlink" class="pcenter"><a href="chap2_mj.html">[MathJax on]</a></p>
<p><a id="X8139A4C17BDD5F3F" name="X8139A4C17BDD5F3F"></a></p>
<div class="ChapSects"><a href="chap2.html#X8139A4C17BDD5F3F">2 <span class="Heading">Transformations and partial permutations
</span></a>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap2.html#X80F3086F87E93DF8">2.1 <span class="Heading">Creating transformations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7F1E4B5184210D2B">2.1-1 ConstantTransformation</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X85D1071484CE004C">2.1-2 <span class="Heading">Idempotent</span></a>
</span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7C5BED247F770ECB">2.1-3 <span class="Heading">RandomIdempotent</span></a>
</span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X8475448F87E8CB8A">2.1-4 <span class="Heading">RandomTransformation</span></a>
</span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap2.html#X7B9D451D7FDA1DD8">2.2 <span class="Heading">Creating partial permutations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X80531F067E9E1EB9">2.2-1 PartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X80ABBF4883C79060">2.2-2 RestrictedPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X8129A6877FFD804B">2.2-3 <span class="Heading">One</span></a>
</span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7C8CCA647AF7A2BC">2.2-4 LeftOne</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7E6ADC8583C31530">2.2-5 RandomPartialPerm</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap2.html#X7849595B81D063EE">2.3 <span class="Heading">Displaying partial permutations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7F3367CF7A2DDEEF">2.3-1 PrettyPrintPP</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap2.html#X7A7A6FDE7D85111C">2.4 <span class="Heading">Properties of transformations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7CA4FE7A7C7EBBA3">2.4-1 CanonicalTransSameKernel</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X863216CB7AF88BED">2.4-2 IndexPeriodOfTransformation</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X846B9EBB86A69BDC">2.4-3 <span class="Heading">InversesOfTransformation</span></a>
</span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X86C0902D811E917B">2.4-4 IsInjectiveTransOnList</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7856A73E80DAF56F">2.4-5 IsRegularTransformation</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X78A209C87CF0E32B">2.4-6 DegreeOfTransformation</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X85F22DDD84C28583">2.4-7 RankOfTransformation</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X85FE9F20810BCC70">2.4-8 SmallestIdempotentPower</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap2.html#X80FCAB5A7CA59D69">2.5 <span class="Heading">Properties of partial permutations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7EECE133792B30FC">2.5-1 IsPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X784A14F787E041D7">2.5-2 DomainOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X858638A27E681E1A">2.5-3 RangeOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X875D378578CC10EA">2.5-4 RangeSetOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X84DAE12780CE4D4A">2.5-5 FixedPointsOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X82FE981A87FAA2DC">2.5-6 MovedPoints</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X81F5C64E7DAD27A7">2.5-7 NrMovedPoints</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7D4290A785ABC86D">2.5-8 LargestMovedPoint</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X84A49C977E1E29AA">2.5-9 SmallestMovedPoint</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7BE1E841813E61A5">2.5-10 DenseRangeList</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7C1ABD8A80E95B39">2.5-11 RankOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X8612A4DC864E7959">2.5-12 DegreeOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X873A9F717DA75CBC">2.5-13 IndexPeriodOfPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7C04AA377F080722">2.5-14 SmallestIdempotentPower</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap2.html#X812CEC008609A8A2">2.6 <span class="Heading">Operators for transformations</span></a>
</span>
</div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap2.html#X7FA29926872924D7">2.7 <span class="Heading">Operators for partial permutations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X87B1ED93785257C1">2.7-1 NaturalLeqPartialPerm</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap2.html#X83608C407CC8836D">2.8 <span class="Heading">Changing representations</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X78AA076A7F1C2E90">2.8-1 AsPermOfKerImg</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X8353AB8987E35DF3">2.8-2 AsPermutation</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7B4CDC0579C6887F">2.8-3 <span class="Heading">AsPartialPerm</span></a>
</span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7C5360B2799943F3">2.8-4 AsTransformation</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap2.html#X833C5DA683E4EA15">2.9 <span class="Heading">Actions</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X849A43DE7AF3C639">2.9-1 OnKernelsAntiAction</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7BDF1956855D75CC">2.9-2 OnIntegerSetsWithPartialPerm</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X814B3E6E7D3F1036">2.9-3 TransformationActionNC</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap2.html#X81E0FF0587C54543">2.10 <span class="Heading">Orbits</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X8178A420792E6AAC">2.10-1 OrbSCC</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X814337A47B773F50">2.10-2 OrbSCCLookup</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X78AFD003840823BD">2.10-3 OrbSCCTruthTable</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7D9A29B47D743213">2.10-4 ReverseSchreierTreeOfSCC</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X8071C7148255D0DB">2.10-5 SchreierTreeOfSCC</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7853DC817C3102A4">2.10-6 TraceSchreierTreeOfSCCBack</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap2.html#X7D2E200A7B2D5946">2.10-7 TraceSchreierTreeOfSCCForward</a></span>
</div></div>
</div>

<h3>2 <span class="Heading">Transformations and partial permutations
</span></h3>

<p>A <em>transformation</em> is just a function from the set <span class="SimpleMath">{1,..., n}</span> to itself, and a <em>partial permutation</em> is an injective function from a subset of <span class="SimpleMath">{1,..., n}</span> to <span class="SimpleMath">{1,..., n}</span> where <span class="SimpleMath">n</span> is a positive integer. In this chapter, we describe functions for creating and determining fundamental properties of transformations and partial permutations. Semigroups in the <strong class="pkg">Citrus</strong> package are semigroups of transformations and partial permutations, and so we describe how to create and manipulate these objects first.</p>

<p>The functions described in this section relating to transformations extend the functionality of <strong class="pkg">GAP</strong> library; see also <a href="/Users/jdm/gap/doc/ref/chap54.html#X860026B880BCB2A5"><span class="RefLink">Reference: Transformations</span></a>.</p>

<p><a id="X80F3086F87E93DF8" name="X80F3086F87E93DF8"></a></p>

<h4>2.1 <span class="Heading">Creating transformations</span></h4>

<p>In this section we describe the functions available in <strong class="pkg">Citrus</strong> for creating transformations. The following functions from the <strong class="pkg">GAP</strong> reference manual are particularly relevant to this section:</p>


<ul>
<li><p><code class="func">Transformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X7B2E556E7BCF9CDF"><span class="RefLink">Reference: Transformation</span></a>),</p>

</li>
<li><p><code class="func">IdentityTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X8268A58685BEFD6F"><span class="RefLink">Reference: IdentityTransformation</span></a>),</p>

</li>
<li><p><code class="func">RandomTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X8475448F87E8CB8A"><span class="RefLink">Reference: RandomTransformation</span></a>),</p>

</li>
<li><p><code class="func">AsTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X7C5360B2799943F3"><span class="RefLink">Reference: AsTransformation</span></a>).</p>

</li>
</ul>
<p><a id="X7F1E4B5184210D2B" name="X7F1E4B5184210D2B"></a></p>

<h5>2.1-1 ConstantTransformation</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ConstantTransformation</code>( <var class="Arg">m</var>, <var class="Arg">n</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A constant transformation of degree <var class="Arg">m</var> with value <var class="Arg">n</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ConstantTransformation(5, 1);</span>
Transformation( [ 1, 1, 1, 1, 1 ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ConstantTransformation(6, 4);</span>
Transformation( [ 4, 4, 4, 4, 4, 4 ] )</pre></div>

<p><a id="X85D1071484CE004C" name="X85D1071484CE004C"></a></p>

<h5>2.1-2 <span class="Heading">Idempotent</span></h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Idempotent</code>( <var class="Arg">ker</var>, <var class="Arg">img</var> )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IdempotentNC</code>( <var class="Arg">ker</var>, <var class="Arg">img</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: An idempotent transformation.</p>

<p>This function returns an idempotent with <code class="func">CanonicalTransSameKernel</code> (<a href="chap2.html#X7CA4FE7A7C7EBBA3"><span class="RefLink">2.4-1</span></a>) equal to <var class="Arg">ker</var> and image set equal to <var class="Arg">img</var> after first checking that <code class="func">IsInjectiveTransOnList</code> (<a href="chap2.html#X86C0902D811E917B"><span class="RefLink">2.4-4</span></a>) holds with argument <var class="Arg">ker, img</var>.</p>

<p><code class="code">IdempotentNC</code> returns an idempotent with <code class="func">CanonicalTransSameKernel</code> (<a href="chap2.html#X7CA4FE7A7C7EBBA3"><span class="RefLink">2.4-1</span></a>) equal to <var class="Arg">ker</var> and image set equal to <var class="Arg">img</var> without checking that <code class="func">IsInjectiveTransOnList</code> (<a href="chap2.html#X86C0902D811E917B"><span class="RefLink">2.4-4</span></a>) holds.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 10, 2, 3, 10, 5, 10, 7, 2, 5, 6 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ker:=CanonicalTransSameKernel(f);</span>
[ 1, 2, 3, 1, 4, 1, 5, 2, 4, 6 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">img:=ImageSetOfTransformation(f);</span>
[ 2, 3, 5, 6, 7, 10 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Idempotent(ker, img);</span>
Transformation( [ 6, 2, 3, 6, 5, 6, 7, 2, 5, 10 ] )</pre></div>

<p><a id="X7C5BED247F770ECB" name="X7C5BED247F770ECB"></a></p>

<h5>2.1-3 <span class="Heading">RandomIdempotent</span></h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RandomIdempotent</code>( <var class="Arg">img</var>, <var class="Arg">m</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RandomIdempotentNC</code>( <var class="Arg">img</var>, <var class="Arg">m</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: An idempotent transformation.</p>

<p>Returns a random idempotent with image set <var class="Arg">img</var> of degree <var class="Arg">m</var> after checking that the maximum value in <var class="Arg">img</var> is at most <var class="Arg">m</var>.</p>

<p><code class="code">RandomIdempotentNC</code> returns a random idempotent with image set <var class="Arg">img</var> of degree <var class="Arg">m</var> without checking that the maximum value in <var class="Arg">img</var> is at most <var class="Arg">m</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RandomIdempotent([ 1, 2, 3 ], 5);</span>
Transformation( [ 1, 2, 3, 1, 3 ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RandomIdempotent([ 1, 2, 3 ], 4);</span>
Transformation( [ 1, 2, 3, 3 ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RandomIdempotent([ 1, 2, 3 ], 3);            </span>
Transformation( [ 1, 2, 3 ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RandomIdempotent([ 1, 2, 4, 5, 6 ], 10);</span>
Transformation( [ 1, 2, 6, 4, 5, 6, 2, 5, 1, 6 ] )</pre></div>

<p><a id="X8475448F87E8CB8A" name="X8475448F87E8CB8A"></a></p>

<h5>2.1-4 <span class="Heading">RandomTransformation</span></h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RandomTransformation</code>( <var class="Arg">arg</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RandomTransformationNC</code>( <var class="Arg">arg</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A transformation.</p>

<p>If <var class="Arg">arg</var> is a positive integer, then a random transformation of degree <var class="Arg">arg</var> is returned; see <code class="func">RandomTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X8475448F87E8CB8A"><span class="RefLink">Reference: RandomTransformation</span></a>).</p>

<p>If <var class="Arg">arg</var><code class="code">[1]</code> is a list of positive integers and <var class="Arg">arg</var><code class="code">[2]</code> is a positive integer, then <code class="code">RandomTransformation</code> returns a random transformation with degree <var class="Arg">arg</var><code class="code">[2]</code> and image contained in <var class="Arg">arg</var><code class="code">[1]</code>.</p>

<p>The no check version <code class="code">RandomTransformationNC</code> does not check that the arguments can define a transformation.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RandomTransformation([1,2,3], 6);             </span>
Transformation( [ 2, 1, 2, 1, 1, 2 ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RandomTransformationNC([1,2,3], 6);</span>
Transformation( [ 3, 1, 2, 2, 1, 2 ] )</pre></div>

<p><a id="X7B9D451D7FDA1DD8" name="X7B9D451D7FDA1DD8"></a></p>

<h4>2.2 <span class="Heading">Creating partial permutations</span></h4>

<p>In this section we describe the functions available in <strong class="pkg">Citrus</strong> for creating partial permutations. In addition to the functions described in this section, partial permutations can also be created from permutations and certain transformations; see Section <a href="chap2.html#X83608C407CC8836D"><span class="RefLink">2.8</span></a>.</p>

<p><em>Please note that the functions for partial permutations and inverse semigroups are only available if you have compiled <strong class="pkg">Citrus</strong>.</em></p>

<p><a id="X80531F067E9E1EB9" name="X80531F067E9E1EB9"></a></p>

<h5>2.2-1 PartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PartialPerm</code>( <var class="Arg">dom</var>, <var class="Arg">ran</var> )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PartialPerm</code>( <var class="Arg">list</var> )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PartialPermNC</code>( <var class="Arg">dom</var>, <var class="Arg">ran</var> )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PartialPermNC</code>( <var class="Arg">list</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A partial permutation.</p>

<p>Partial permutations can be created in two ways: by giving the domain and the range, or the dense range list.</p>

<p>The partial permutation defined by a domain <var class="Arg">dom</var> and range <var class="Arg">ran</var>, where <var class="Arg">dom</var> is a set of positive integers and <var class="Arg">ran</var> is a duplicate free list of positive integers, maps <var class="Arg">dom</var><code class="code">[i]</code> to <var class="Arg">ran</var><code class="code">[i]</code>. For example, the partial permutation mapping <span class="SimpleMath">1</span> and <span class="SimpleMath">5</span> to <span class="SimpleMath">20</span> and <span class="SimpleMath">2</span> can be created using:</p>


<div class="example"><pre>PartialPermNC([1,5],[20,2]); </pre></div>

<p>The partial permutation defined by a dense range list <var class="Arg">list</var>, maps the positive integer <code class="code">i</code> to <var class="Arg">list</var><code class="code">[i]</code> if <var class="Arg">list</var><code class="code">[i]&lt;&gt;&gt;0</code> and is undefined at <code class="code">i</code> if <var class="Arg">list</var><code class="code">[i]=0</code>. For example, the partial permutation mapping <span class="SimpleMath">1</span> and <span class="SimpleMath">5</span> to <span class="SimpleMath">20</span> and <span class="SimpleMath">2</span> can be created using:</p>


<div class="example"><pre>PartialPermNC([20,0,0,0,2]);</pre></div>

<p>Regardless of which of these two methods are used to create a partial permutation in <strong class="pkg">GAP</strong> the internal representation is the same.</p>

<p>If the largest point in the domain is larger than the rank of the partial permutation, then using the dense range list to define the partial permutation will require less typing; otherwise using the domain and the range will require less typing. For example, the partial permutation mapping <span class="SimpleMath">10000</span> to <span class="SimpleMath">1</span> can be defined using:</p>


<div class="example"><pre>PartialPermNC([10000], [1]);</pre></div>

<p>but using the dense range list would require a list with <span class="SimpleMath">9999</span> entries equal to <span class="SimpleMath">0</span> and the final entry equal to <span class="SimpleMath">1</span>. On the other hand, the identity on <code class="code">[1,2,3,4,6]</code> can be defined using:</p>


<div class="example"><pre>PartialPermNC([1,2,3,4,0,6]);</pre></div>

<p><code class="code">PartialPerm</code> checks that the argument defines a partial permatutation whereas <code class="code">PartialPermNC</code> does not. <code class="code">PartialPermNC</code> is a kernel function written in C, which performs no checks on it argument, and so if the argument does not define a partial permutation, then the results can be unpredictable, and it could even potentially cause <strong class="pkg">GAP</strong> to crash.</p>

<p>It is currently only possible to create partial permutations acting on positive integers not greater than <span class="SimpleMath">65535</span>. Note that this might cause some unexpected behaviour when multiplying partial permutations by permutations. For example, if <code class="code">f:=PartialPerm([1,2,3]);</code>, then <code class="code">f*(1,100000)*(1,100000)</code> will return an error since the result of <code class="code">f*(1,100000)</code> would be a partial permutation acting on too many points. However, the product <code class="code">f*((1,100000)*(1,100000))</code> is just <code class="code">f</code> and no error is given.</p>

<p>Please note that a partial permutation in <strong class="pkg">GAP</strong> is never a permutation nor is a permutation ever a partial permutation. For example, the permutation <code class="code">(1,4,2)</code> fixes <code class="code">3</code> but the partial permutation <code class="code">PartialPerm([4,1,0,2]);</code> is not defined on <code class="code">3</code>.</p>

<p><a id="X80ABBF4883C79060" name="X80ABBF4883C79060"></a></p>

<h5>2.2-2 RestrictedPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RestrictedPartialPerm</code>( <var class="Arg">f</var>, <var class="Arg">set</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RestrictedPartialPermNC</code>( <var class="Arg">f</var>, <var class="Arg">set</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A partial permutation.</p>

<p><code class="code">RestrictedPartialPerm</code> returns a new partial permutation that acts on the points in the set of positive integers <var class="Arg">set</var> in the same way as the partial permutation <var class="Arg">f</var>, and that is undefined on those points that are not in <var class="Arg">set</var>.</p>

<p><code class="code">RestrictedPartialPermNC</code> does not check whether <var class="Arg">set</var> is a set of positive integers, if it is not, then the results of this function are unpredictable.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( [ 1, 3, 4, 7, 8, 9 ], [ 9, 4, 1, 6, 2, 8 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RestrictedPartialPerm(f, [2,3,6,10]);</span>
[ 3 ] -&gt; [ 4 ]</pre></div>

<p><a id="X8129A6877FFD804B" name="X8129A6877FFD804B"></a></p>

<h5>2.2-3 <span class="Heading">One</span></h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; One</code>( <var class="Arg">f</var> )</td><td class="tdright">( method )</td></tr></table></div>
<p>Returns: A partial permutation.</p>

<p>As described in the reference manual <code class="func">OneImmutable</code> (<a href="/Users/jdm/gap/doc/ref/chap31.html#X8046262384895B2A"><span class="RefLink">Reference: OneImmutable</span></a>), <code class="code">One</code> returns the multiplicative neutral element of the partial permutation <var class="Arg">f</var>, which is the identity partial permutation on the union of the domain and range of <var class="Arg">f</var>; see <code class="func">DomainOfPartialPerm</code> (<a href="chap2.html#X784A14F787E041D7"><span class="RefLink">2.5-2</span></a>) and <code class="func">RangeOfPartialPerm</code> (<a href="chap2.html#X858638A27E681E1A"><span class="RefLink">2.5-3</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC([ 1, 2, 3, 4, 5, 7, 10 ], [ 3, 7, 9, 6, 1, 10, 2 ]);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">One(f);</span>
&lt;identity on [ 1, 2, 3, 4, 5, 6, 7, 9, 10 ]&gt;</pre></div>

<p><a id="X7C8CCA647AF7A2BC" name="X7C8CCA647AF7A2BC"></a></p>

<h5>2.2-4 LeftOne</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; LeftOne</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RightOne</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: The idempotent partial permutation <var class="Arg">f</var><code class="code">*</code><var class="Arg">f^-1</var> or <var class="Arg">f^-1</var><code class="code">*</code><var class="Arg">f</var>.</p>

<p><code class="code">LeftOne</code> returns the identity partial permutation on <code class="code">DomainOfPartialPerm(<var class="Arg">f</var>)</code>, which is equal to <var class="Arg">f</var><code class="code">*</code><var class="Arg">f^-1</var>; see <code class="func">DomainOfPartialPerm</code> (<a href="chap2.html#X784A14F787E041D7"><span class="RefLink">2.5-2</span></a>).</p>

<p><code class="code">RightOne</code> returns the idenpartial permutation on <code class="code">RangeOfPartialPerm(<var class="Arg">f</var>)</code>, which is equal to <var class="Arg">f^-1</var><code class="code">*</code><var class="Arg">f</var>; see <code class="func">RangeOfPartialPerm</code> (<a href="chap2.html#X858638A27E681E1A"><span class="RefLink">2.5-3</span></a>).</p>

<p>The methods for <code class="code">LeftOne</code> and <code class="code">RightOne</code> are more efficient than composing <var class="Arg">f</var> with <var class="Arg">f^-1</var> or vice versa.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( [ 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 16, 17, 18, 19 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 3, 12, 14, 4, 11, 18, 17, 2, 9, 5, 15, 8, 20, 10, 19 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LeftOne(f);</span>
&lt;identity on [ 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 16, 17, 18, 19 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RightOne(f);</span>
&lt;identity on [ 2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 17, 18, 19, 20 ]&gt;</pre></div>

<p><a id="X7E6ADC8583C31530" name="X7E6ADC8583C31530"></a></p>

<h5>2.2-5 RandomPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RandomPartialPerm</code>( <var class="Arg">n</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A partial permutation.</p>

<p><code class="code">RandomPartialPerm</code> returns a randomly chosen partial permutation where points in the domain and range are bounded above by the positive integer <var class="Arg">n</var>. Points are chosen in the dense range list of the returned partial permutation with the probability of a value being undefined equal to the probability of it being defined. Thus the expected rank of the returned partial permutation is approximately <code class="code">n/2</code>.</p>


<div class="example"><pre><span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=RandomPartialPerm(10);  </span>
[ 1, 2, 3, 4, 7, 8, 9 ] -&gt; [ 5, 9, 1, 7, 2, 8, 4 ]</pre></div>

<p><a id="X7849595B81D063EE" name="X7849595B81D063EE"></a></p>

<h4>2.3 <span class="Heading">Displaying partial permutations</span></h4>

<p>Partial permutations <code class="code">f</code> with rank less than 20 are displayed as:</p>


<div class="example"><pre>DomainOfPartialPerm(f) -&gt; RangeOfPartialPerm(f)</pre></div>

<p>see <code class="func">DomainOfPartialPerm</code> (<a href="chap2.html#X784A14F787E041D7"><span class="RefLink">2.5-2</span></a>) and <code class="func">RangeOfPartialPerm</code> (<a href="chap2.html#X858638A27E681E1A"><span class="RefLink">2.5-3</span></a>). The empty mapping is displayed as:</p>


<div class="example"><pre>&lt;empty mapping&gt;</pre></div>

<p>and a partial identity is displayed as, for example,</p>


<div class="example"><pre>&lt;identity on [ 1, 2, 3, 4, 5, 8, 12, 19, 20 ]&gt;</pre></div>

<p>If a partial permutation in <strong class="pkg">GAP</strong> has rank 20 points or more, then to make the display more readable the domain and the range of the partial permutatation are not printed, for example, a partial permutation with rank 27 will be displayed as:</p>


<div class="example"><pre>&lt;partial perm on 27 pts&gt;</pre></div>

<p>If you want to display a partial permutation in a form that can be copied and pasted back into <strong class="pkg">GAP</strong>, then use <code class="code">Display</code>:</p>


<div class="example"><pre><span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display(f);               </span>
PartialPermNC( [ 1, 2, 3, 5, 6, 7, 8 ], [ 5, 9, 10, 6, 3, 8, 4 ] )</pre></div>

<p>Likewise, you can display a collection of partial permutations using <code class="code">Display</code>:</p>


<div class="example"><pre><span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Display(Generators(s));</span>
[ PartialPermNC( [ 1, 2, 3, 4, 5, 8, 10 ], [ 3, 1, 4, 2, 5, 6, 7 ] ),
PartialPermNC( [ 1, 2, 4, 7, 8, 9 ], [ 10, 7, 8, 5, 9, 1 ] ) ]</pre></div>

<p><a id="X7F3367CF7A2DDEEF" name="X7F3367CF7A2DDEEF"></a></p>

<h5>2.3-1 PrettyPrintPP</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; PrettyPrintPP</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: Nothing.</p>

<p><code class="code">PrettyPrintPP</code> will print the partial permutation <var class="Arg">f</var> as a product of disjoint permutations and chains. A <em>chain</em> is a list <code class="code">X</code> of length <code class="code">n</code> such that:</p>


<ul>
<li><p><code class="code">X[1]</code> is an element of the domain of <var class="Arg">f</var> but not the range</p>

</li>
<li><p><code class="code">X[i]^<var class="Arg">f</var>=X[i+1]</code> for all <code class="code">n</code> in <span class="SimpleMath">{1,..., n-1}</span></p>

</li>
<li><p><code class="code">X[n]</code> is in the range of <var class="Arg">f</var> but not the domain.</p>

</li>
</ul>
<p>In the display, permutations are displayed as they usually are in <strong class="pkg">GAP</strong>, fixed points are displayed enclosed in round brackets, and chains are displayed enclosed in square brackets.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( [ 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 16, 17, 18, 19 ],</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 3, 12, 14, 4, 11, 18, 17, 2, 9, 5, 15, 8, 20, 10, 19 ]);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">PrettyPrintPP(f);</span>
[1,3,14][16,8,2,12,15](4)(5,11)[6,18,10,9][7,17,20](19)</pre></div>

<p><a id="X7A7A6FDE7D85111C" name="X7A7A6FDE7D85111C"></a></p>

<h4>2.4 <span class="Heading">Properties of transformations</span></h4>

<p>In this section we describe the functions available in <strong class="pkg">Citrus</strong> for finding various properties of transformations.</p>

<p>In addition to those functions described below, <strong class="pkg">Citrus</strong> also contains a special method for <code class="func">RankOfTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X85F22DDD84C28583"><span class="RefLink">Reference: RankOfTransformation</span></a>).</p>

<p><a id="X7CA4FE7A7C7EBBA3" name="X7CA4FE7A7C7EBBA3"></a></p>

<h5>2.4-1 CanonicalTransSameKernel</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; CanonicalTransSameKernel</code>( <var class="Arg">obj</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A list of positive integers.</p>

<p>The argument <var class="Arg">obj</var> should be a transformation or the list of images of a transformation. If <var class="Arg">obj</var> is a transformation, then we define <code class="code">f:=<var class="Arg">obj</var></code> and if <var class="Arg">obj</var> is the image list of a transformation we define <code class="code">f:=Transformation(<var class="Arg">obj</var>)</code>. <code class="code">CanonicalTransSameKernel</code> returns the image list of a transformation <code class="code">g</code> such that the kernel of <code class="code">g</code> equals the kernel of <code class="code">f</code> and <code class="code">j^g=i</code> for all <code class="code">j</code> in <code class="code">KernelOfTransformation(g)[i]</code>. For a given transformation <code class="code">f</code>, there is a unique transformation <code class="code">g</code> with this property.</p>

<p>See also <code class="func">ImageListOfTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X7AEC9E6687B3505A"><span class="RefLink">Reference: ImageListOfTransformation</span></a>) and <code class="func">KernelOfTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X80FCB5048789CF75"><span class="RefLink">Reference: KernelOfTransformation</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 10, 3, 7, 10, 1, 5, 9, 2, 6, 10 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CanonicalTransSameKernel(f);</span>
[ 1, 2, 3, 1, 4, 5, 6, 7, 8, 1 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=[ 10, 6, 7, 9, 9, 9, 4, 1, 4, 1 ];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CanonicalTransSameKernel(f);</span>
[ 1, 2, 3, 4, 4, 4, 5, 6, 5, 6 ]</pre></div>

<p><a id="X863216CB7AF88BED" name="X863216CB7AF88BED"></a></p>

<h5>2.4-2 IndexPeriodOfTransformation</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IndexPeriodOfTransformation</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A pair of positive integers.</p>

<p>Returns the least positive integers <code class="code">m, r</code> such that <code class="code"><var class="Arg">f</var>^(m+r)=<var class="Arg">f</var>^m</code>, which are known as the <em>index</em> and <em>period</em> of the transformation <var class="Arg">f</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 3, 4, 4, 6, 1, 3, 3, 7, 1 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IndexPeriodOfTransformation(f);</span>
[ 2, 3 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f^2=f^5;</span>
true</pre></div>

<p><a id="X846B9EBB86A69BDC" name="X846B9EBB86A69BDC"></a></p>

<h5>2.4-3 <span class="Heading">InversesOfTransformation</span></h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; InversesOfTransformation</code>( <var class="Arg">S</var>, <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; InversesOfTransformationNC</code>( <var class="Arg">S</var>, <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A list of transformations.</p>

<p><code class="code">InversesOfTransformation</code> returns a list of the inverses of the transformation <var class="Arg">f</var> in the transformation semigroup <var class="Arg">S</var> after first checking that <var class="Arg">f</var> is an element of <var class="Arg">S</var>.</p>

<p>A transformation <code class="code">g</code> in <var class="Arg">S</var> is an <em>inverse</em> of <var class="Arg">f</var> if <code class="code"><var class="Arg">f</var>*g*<var class="Arg">f</var>=<var class="Arg">f</var></code> and <code class="code">g*<var class="Arg">f</var>*g=g</code>.</p>

<p>The function <code class="code">InversesOfTransformationNC</code> does not check that <var class="Arg">f</var> is an element of <var class="Arg">S</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S:=Semigroup([ Transformation( [ 3, 1, 4, 2, 5, 2, 1, 6, 1 ] ), </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput"> Transformation( [ 5, 7, 8, 8, 7, 5, 9, 1, 9 ] ), </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput"> Transformation( [ 7, 6, 2, 8, 4, 7, 5, 8, 3 ] ) ]);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 3, 1, 4, 2, 5, 2, 1, 6, 1 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">InversesOfTransformationNC(S, f);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsRegularTransformation(S, f);</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 1, 9, 7, 5, 5, 1, 9, 5, 1 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">InversesOfTransformation(S, f);</span>
[ Transformation( [ 1, 5, 1, 2, 5, 1, 3, 2, 2 ] ), 
  Transformation( [ 1, 2, 3, 5, 5, 1, 3, 5, 2 ] ), 
  Transformation( [ 1, 5, 1, 1, 5, 1, 3, 1, 2 ] ) ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsRegularTransformation(S, f);</span>
true</pre></div>

<p><a id="X86C0902D811E917B" name="X86C0902D811E917B"></a></p>

<h5>2.4-4 IsInjectiveTransOnList</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsInjectiveTransOnList</code>( <var class="Arg">obj</var>, <var class="Arg">list</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code>.</p>

<p>The argument <var class="Arg">obj</var> should be a transformation or the list of images of a transformation and <var class="Arg">list</var> should be a list of positive integers. If <var class="Arg">obj</var> is a transformation, then we define <code class="code">f:=<var class="Arg">obj</var></code> and if <var class="Arg">obj</var> is the image list of a transformation we define <code class="code">f:=Transformation(<var class="Arg">obj</var>)</code>. <code class="code">IsInjectiveTransOnList</code> returns <code class="keyw">true</code> if <code class="code">f</code> is injective on <var class="Arg">list</var> and <code class="keyw">false</code> if it is not. If <var class="Arg">list</var> is not duplicate free, then <code class="keyw">false</code> is returned.</p>

<p>See also <code class="func">ImageListOfTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X7AEC9E6687B3505A"><span class="RefLink">Reference: ImageListOfTransformation</span></a>) and <code class="func">Transformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X7B2E556E7BCF9CDF"><span class="RefLink">Reference: Transformation</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 2, 6, 7, 2, 6, 9, 9, 1, 1, 5 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsInjectiveTransOnList(f, [1,5]);</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsInjectiveTransOnList(f, [5,1]);</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsInjectiveTransOnList(f, [5,1,5,1,1,]);</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsInjectiveTransOnList([1,2,3,4,5], [5,1,2,3]);   </span>
true</pre></div>

<p><a id="X7856A73E80DAF56F" name="X7856A73E80DAF56F"></a></p>

<h5>2.4-5 IsRegularTransformation</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsRegularTransformation</code>( <var class="Arg">S</var>, <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code>.</p>

<p>This function returns <code class="keyw">true</code> if <var class="Arg">f</var> is a regular element of the transformation semigroup <var class="Arg">S</var> and <code class="keyw">false</code> if it is not.</p>

<p>A transformation <var class="Arg">f</var> is <em>regular</em> in a transformation semigroup <var class="Arg">S</var> if it lies inside a regular \(\mathcal{D}\)-class; see <code class="func">IsRegularDClass</code> (<a href="/Users/jdm/gap/doc/ref/chap51.html#X7F5860927CAD920F"><span class="RefLink">Reference: IsRegularDClass</span></a>) or <code class="func">IsRegularDClass</code> (<a href="chap4.html#X78192CBC7F74B419"><span class="RefLink">4.4-6</span></a>). Equivalently <var class="Arg">f</var> is regular if the orbit of the image of <var class="Arg">f</var> containing a transversal of the kernel of <var class="Arg">f</var>; see <code class="func">Transformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X7B2E556E7BCF9CDF"><span class="RefLink">Reference: Transformation</span></a>) and <code class="func">ImageSetOfTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X839A6D6082A21D1F"><span class="RefLink">Reference: ImageSetOfTransformation</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S:=Monoid(Transformation([2,2,4,4,5,6]),Transformation([5,3,4,4,6,6]));;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Generators(S)[1];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsRegularTransformation(S, f);</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">img:=ImageSetOfTransformation(f);</span>
[ 2, 4, 5, 6 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">o:=Orb(S, img, OnSets);; Enumerate(o);</span>
&lt;closed orbit, 3 points&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ForAny(o, x-&gt; IsInjectiveTransOnList(f, x));</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsRegularTransformation(S, Generators(S)[2]);</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IsRegularTransformation(FullTransformationSemigroup(6), Generators(S)[2]);</span>
true</pre></div>

<p><a id="X78A209C87CF0E32B" name="X78A209C87CF0E32B"></a></p>

<h5>2.4-6 DegreeOfTransformation</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; DegreeOfTransformation</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Degree</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Degree</code>( <var class="Arg">C</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A positive integer.</p>

<p>The <em>degree</em> of a transformation <var class="Arg">f</var> is the length of <code class="func">ImageListOfTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X7AEC9E6687B3505A"><span class="RefLink">Reference: ImageListOfTransformation</span></a>).</p>

<p>The degree of a transformation collection <var class="Arg">C</var> is the degree of any (and all) transformations in <var class="Arg">C</var>.</p>

<p>See also <code class="func">DegreeOfTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X78A209C87CF0E32B"><span class="RefLink">Reference: DegreeOfTransformation</span></a>).</p>

<p><a id="X85F22DDD84C28583" name="X85F22DDD84C28583"></a></p>

<h5>2.4-7 RankOfTransformation</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RankOfTransformation</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Rank</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A positive integer.</p>

<p><code class="code">RankOfTransformation</code> returns the length of the set of image points of the transformation <var class="Arg">f</var>; see <code class="func">RankOfTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X85F22DDD84C28583"><span class="RefLink">Reference: RankOfTransformation</span></a>).</p>

<p><code class="code">Rank(<var class="Arg">f</var>)</code> returns the same result as <code class="code">RankOfTransformation</code> and is included for the sake of having a shorter name. <code class="code">Rank</code> can also be applied to partial permutations; see <code class="func">RankOfPartialPerm</code> (<a href="chap2.html#X7C1ABD8A80E95B39"><span class="RefLink">2.5-11</span></a>)</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 8, 5, 8, 2, 2, 8, 4, 7, 3, 1 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RankOfTransformation(f);</span>
7
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Rank(f);</span>
7</pre></div>

<p><a id="X85FE9F20810BCC70" name="X85FE9F20810BCC70"></a></p>

<h5>2.4-8 SmallestIdempotentPower</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SmallestIdempotentPower</code>( <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A positive integer.</p>

<p>This function returns the least positive integer <code class="code">n</code> such that the transformation <code class="code"><var class="Arg">f</var>^n</code> is an idempotent. See also <code class="func">SmallestIdempotentPower</code> (<a href="chap2.html#X7C04AA377F080722"><span class="RefLink">2.5-14</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 6, 7, 4, 1, 7, 4, 6, 1, 3, 4 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SmallestIdempotentPower(f);</span>
3
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 6, 6, 6, 2, 7, 1, 5, 3, 10, 6 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SmallestIdempotentPower(f);</span>
2</pre></div>

<p><a id="X80FCAB5A7CA59D69" name="X80FCAB5A7CA59D69"></a></p>

<h4>2.5 <span class="Heading">Properties of partial permutations</span></h4>

<p>In this section we describe the functions available in <strong class="pkg">Citrus</strong> for finding various properties of partial permutations.</p>

<p><a id="X7EECE133792B30FC" name="X7EECE133792B30FC"></a></p>

<h5>2.5-1 IsPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsPartialPerm</code>( <var class="Arg">obj</var> )</td><td class="tdright">( category )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IsPartialPermCollection</code>( <var class="Arg">obj</var> )</td><td class="tdright">( category )</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code>.</p>

<p>Each <em>partial permutation</em> in <strong class="pkg">GAP</strong> lies in the category <code class="code">IsPartialPerm</code>. Basic operations for partial permutations are <code class="func">DomainOfPartialPerm</code> (<a href="chap2.html#X784A14F787E041D7"><span class="RefLink">2.5-2</span></a>), <code class="func">RangeOfPartialPerm</code> (<a href="chap2.html#X858638A27E681E1A"><span class="RefLink">2.5-3</span></a>), <code class="func">RangeSetOfPartialPerm</code> (<a href="chap2.html#X875D378578CC10EA"><span class="RefLink">2.5-4</span></a>), <code class="func">RankOfPartialPerm</code> (<a href="chap2.html#X7C1ABD8A80E95B39"><span class="RefLink">2.5-11</span></a>), <code class="func">DegreeOfPartialPerm</code> (<a href="chap2.html#X8612A4DC864E7959"><span class="RefLink">2.5-12</span></a>), multiplication of two partial permutations is via <code class="keyw">*</code>, and exponentiation with the first argument a positive integer <code class="code">i</code> and second argument a partial permutation <code class="code">f</code> where the result is the image <code class="code">i^f</code> of the point <code class="code">i</code> under <code class="code">f</code>.</p>

<p><code class="code">IsPartialPermCollection</code> is the category of collections of partial permutations. For example, a semigroup of partial permutations belongs in <code class="code">IsPartialPermCollection</code>.</p>

<p><a id="X784A14F787E041D7" name="X784A14F787E041D7"></a></p>

<h5>2.5-2 DomainOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; DomainOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A set of positive integers.</p>

<p>The <em>domain</em> of a partial permutation <var class="Arg">f</var> is the set of positive integers where <var class="Arg">f</var> is defined.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( [ 1, 2, 3, 6, 8, 10 ], [ 2, 6, 7, 9, 1, 5 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">DomainOfPartialPerm(f);</span>
[ 1, 2, 3, 6, 8, 10 ]</pre></div>

<p><a id="X858638A27E681E1A" name="X858638A27E681E1A"></a></p>

<h5>2.5-3 RangeOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RangeOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A duplicate-free list of positive integers.</p>

<p>The <em>range</em> of a partial permutation <var class="Arg">f</var> is the list of images of the elements of the domain <var class="Arg">f</var> where <code class="code">RangeOfPartialPerm(f)[i]=DomainOfPartialPerm(f)[i]^f.</code></p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( [ 1, 2, 3, 4, 5, 8, 10 ], [ 7, 1, 4, 3, 2, 6, 5 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RangeOfPartialPerm(f);</span>
[ 7, 1, 4, 3, 2, 6, 5 ]</pre></div>

<p><a id="X875D378578CC10EA" name="X875D378578CC10EA"></a></p>

<h5>2.5-4 RangeSetOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RangeSetOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A set of positive integers.</p>

<p>The range of a partial permutation <var class="Arg">f</var> is the list of images of the elements of the domain <var class="Arg">f</var>. <code class="code">RangeSetOfPartialPerm</code> returns the range of a partial permutation sorted into increasing order.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( [ 1, 2, 3, 5, 7, 10 ], [ 10, 2, 3, 5, 7, 6 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RangeSetOfPartialPerm(f);</span>
[ 2, 3, 5, 6, 7, 10 ]</pre></div>

<p><a id="X84DAE12780CE4D4A" name="X84DAE12780CE4D4A"></a></p>

<h5>2.5-5 FixedPointsOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; FixedPointsOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A set of positive integers.</p>

<p>A positive integer <code class="code">i</code> is fixed by a partial permutation <var class="Arg">f</var> if <code class="code">i^</code><var class="Arg">f</var><code class="code">=i</code>. <code class="code">FixedPointsOfPartialPerm</code> returns the set of points fixed by the partial permutation <var class="Arg">f</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 1, 2, 3, 5, 6, 8, 10, 11, 14, 17, 20, 21, 22, 24, 25, 26, 32 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 30, 20, 29, 24, 9, 14, 26, 5, 25, 15, 11, 6, 35, 2, 10, 19, 23 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FixedPointsOfPartialPerm(f);</span>
[  ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC([1..10]);</span>
&lt;identity on [ 1 .. 10 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">FixedPointsOfPartialPerm(f);</span>
[ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ]</pre></div>

<p><a id="X82FE981A87FAA2DC" name="X82FE981A87FAA2DC"></a></p>

<h5>2.5-6 MovedPoints</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; MovedPoints</code>( <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; MovedPoints</code>( <var class="Arg">C</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A set of positive integers.</p>

<p>A positive integer <code class="code">i</code> is moved by a partial permutation <var class="Arg">f</var> if <code class="code">i^</code><var class="Arg">f</var><code class="code">&lt;&gt;i</code>. <code class="code">MovedPoints</code> returns the set of points moved by: the partial permutation <var class="Arg">f</var> or at least one partial permutation in the collection <var class="Arg">C</var>, respectively.</p>

<p>The operation <code class="func">Points</code> (<a href="chap4.html#X828A475A835EE0AE"><span class="RefLink">4.5-1</span></a>) returns a list of all the points on which the collection <var class="Arg">C</var> acts, not only those points that are moved.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 1, 2, 3, 5, 6, 8, 10, 11, 14, 17, 20, 21, 22, 24, 25, 26, 32 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 30, 20, 29, 24, 9, 14, 26, 5, 25, 15, 11, 6, 35, 2, 10, 19, 23 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">MovedPoints(f);</span>
[ 1, 2, 3, 5, 6, 8, 10, 11, 14, 17, 20, 21, 22, 24, 25, 26, 32 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC([1..10]);</span>
&lt;identity on [ 1 .. 10 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">MovedPoints(f);</span>
[  ]</pre></div>

<p><a id="X81F5C64E7DAD27A7" name="X81F5C64E7DAD27A7"></a></p>

<h5>2.5-7 NrMovedPoints</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NrMovedPoints</code>( <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NrMovedPoints</code>( <var class="Arg">C</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A positive integer.</p>

<p>A positive integer <code class="code">i</code> is moved by a partial permutation <var class="Arg">f</var> if <code class="code">i^</code><var class="Arg">f</var><code class="code">&lt;&gt;i</code>. <code class="code">NrMovedPoints</code> returns the number of points moved by: the partial permutation <var class="Arg">f</var> or the by at least one partial permutation in the collection <var class="Arg">C</var>, respectively.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 1, 2, 3, 5, 6, 8, 10, 11, 14, 17, 20, 21, 22, 24, 25, 26, 32 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 30, 20, 29, 24, 9, 14, 26, 5, 25, 15, 11, 6, 35, 2, 10, 19, 23 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NrMovedPoints(f);</span>
17
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC([1..10]);</span>
&lt;identity on [ 1 .. 10 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NrMovedPoints(f);</span>
0</pre></div>

<p><a id="X7D4290A785ABC86D" name="X7D4290A785ABC86D"></a></p>

<h5>2.5-8 LargestMovedPoint</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; LargestMovedPoint</code>( <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; LargestMovedPoint</code>( <var class="Arg">C</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A non-negative integer.</p>

<p>A positive integer <code class="code">i</code> is moved by a partial permutation <var class="Arg">f</var> if <code class="code">i^</code><var class="Arg">f</var><code class="code">&lt;&gt;i</code>.</p>


<dl>
<dt><strong class="Mark">For a partial permutation</strong></dt>
<dd><p><code class="code">LargestMovedPoint</code> returns the largest point moved by the partial permutation <var class="Arg">f</var> or <span class="SimpleMath">0</span> if no points are moved by <var class="Arg">f</var>.</p>

</dd>
<dt><strong class="Mark">For a partial permutation collection</strong></dt>
<dd><p><code class="code">LargestMovedPoint</code> returns the largest point moved by at least one of the partial permutations in the collection <var class="Arg">C</var> or <span class="SimpleMath">0</span> if no points are moved by any element of <var class="Arg">C</var>.</p>

</dd>
</dl>

<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 1, 2, 3, 5, 6, 8, 10, 11, 14, 17, 20, 21, 22, 24, 25, 26, 32 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 30, 20, 29, 24, 9, 14, 26, 5, 25, 15, 11, 6, 35, 2, 10, 19, 23 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LargestMovedPoint(f);</span>
32
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC([1..10]);</span>
&lt;identity on [ 1 .. 10 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">LargestMovedPoint(f);</span>
0</pre></div>

<p><a id="X84A49C977E1E29AA" name="X84A49C977E1E29AA"></a></p>

<h5>2.5-9 SmallestMovedPoint</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SmallestMovedPoint</code>( <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SmallestMovedPoint</code>( <var class="Arg">C</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A non-negative integer.</p>

<p>A positive integer <code class="code">i</code> is moved by a partial permutation <var class="Arg">f</var> if <code class="code">i^</code><var class="Arg">f</var><code class="code">&lt;&gt;i</code>.</p>


<dl>
<dt><strong class="Mark">For a partial permutation</strong></dt>
<dd><p><code class="code">SmallestMovedPoint</code> returns the smallest point moved by the partial permutation <var class="Arg">f</var> or <span class="SimpleMath">0</span> if no points are moved by <var class="Arg">f</var>.</p>

</dd>
<dt><strong class="Mark">For a partial permutation collection</strong></dt>
<dd><p><code class="code">SmallestMovedPoint</code> returns the smallest point moved by at least one of the partial permutations in the collection <var class="Arg">C</var> or <span class="SimpleMath">0</span> if no points are moved by any element of <var class="Arg">C</var>.</p>

</dd>
</dl>

<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 1, 2, 3, 5, 6, 8, 10, 11, 14, 17, 20, 21, 22, 24, 25, 26, 32 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 30, 20, 29, 24, 9, 14, 26, 5, 25, 15, 11, 6, 35, 2, 10, 19, 23 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SmallestMovedPoint(f);</span>
1
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC([1..10]);</span>
&lt;identity on [ 1 .. 10 ]&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SmallestMovedPoint(f);</span>
0</pre></div>

<p><a id="X7BE1E841813E61A5" name="X7BE1E841813E61A5"></a></p>

<h5>2.5-10 DenseRangeList</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; DenseRangeList</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A list of positive integers.</p>

<p>The <em>dense range list</em> of a partial permutation <var class="Arg">f</var> is a list of positive integers <code class="code">list</code> such that <code class="code">list[i]=i^</code><var class="Arg">f</var> where <code class="code">i^</code><var class="Arg">f</var><code class="code">=0</code> if <var class="Arg">f</var> is undefined on <code class="code">i</code>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( [ 1, 2, 3, 4, 8, 9, 10 ], [ 5, 8, 9, 7, 2, 6, 10 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">DenseRangeList(f);</span>
[ 5, 8, 9, 7, 0, 0, 0, 2, 6, 10 ]</pre></div>

<p><a id="X7C1ABD8A80E95B39" name="X7C1ABD8A80E95B39"></a></p>

<h5>2.5-11 RankOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; RankOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Rank</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A positive integer.</p>

<p>The <em>rank</em> of a partial permutation <var class="Arg">f</var> is the number of points in its domain (or equivalently its range).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( [ 1, 2, 3, 4, 5, 6 ], [ 10, 3, 9, 1, 5, 8 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">RankOfPartialPerm(f);</span>
6</pre></div>

<p><a id="X8612A4DC864E7959" name="X8612A4DC864E7959"></a></p>

<h5>2.5-12 DegreeOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; DegreeOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Degree</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; Degree</code>( <var class="Arg">C</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A positive integer.</p>

<p>The <em>degree</em> of a partial permutation <var class="Arg">f</var> is the largest positive integer in the union of its domain and range.</p>

<p>The degree of a partial permutation collection <var class="Arg">C</var> is the largest degree of any partial permutation in <var class="Arg">C</var>, i.e. the largest point in the domain or range of any element in <var class="Arg">C</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( [ 1, 2, 3, 4, 6, 10 ], [ 1, 8, 2, 3, 4, 9 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">DegreeOfPartialPerm(f);</span>
10</pre></div>

<p><a id="X873A9F717DA75CBC" name="X873A9F717DA75CBC"></a></p>

<h5>2.5-13 IndexPeriodOfPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; IndexPeriodOfPartialPerm</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A pair of positive integers.</p>

<p>Returns the least positive integers <code class="code">m, r</code> such that <code class="code"><var class="Arg">f</var>^(m+r)=<var class="Arg">f</var>^m</code>, which are known as the <em>index</em> and <em>period</em> of the partial permutation <var class="Arg">f</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC(</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 16, 17, 18, 19 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 3, 12, 14, 4, 11, 18, 17, 2, 9, 5, 15, 8, 20, 10, 19 ]);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">IndexPeriodOfPartialPerm(f);                                    </span>
[ 5, 2 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f^5=f^7;</span>
true</pre></div>

<p><a id="X7C04AA377F080722" name="X7C04AA377F080722"></a></p>

<h5>2.5-14 SmallestIdempotentPower</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SmallestIdempotentPower</code>( <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A positive integer.</p>

<p>This function returns the least positive integer <code class="code">n</code> such that the partial permutation <code class="code"><var class="Arg">f</var>^n</code> is an idempotent. See also <code class="func">SmallestIdempotentPower</code> (<a href="chap2.html#X85FE9F20810BCC70"><span class="RefLink">2.4-8</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC(</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 15, 16, 17, 23, 25, 29 ],</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 30, 8, 28, 21, 23, 15, 10, 14, 1, 18, 16, 5, 7, 26, 6, 9, 11, 19 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SmallestIdempotentPower(f);</span>
6
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f^6;</span>
&lt;empty mapping&gt;</pre></div>

<p><a id="X812CEC008609A8A2" name="X812CEC008609A8A2"></a></p>

<h4>2.6 <span class="Heading">Operators for transformations</span></h4>


<dl>
<dt><strong class="Mark"><code class="code"><var class="Arg">i</var> ^ <var class="Arg">f</var></code></strong></dt>
<dd><p>returns the image of the positive integer <var class="Arg">i</var> under the transformation <var class="Arg">f</var> if <var class="Arg">i</var> is less than the degree of <var class="Arg">f</var>.</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> ^ <var class="Arg">g</var></code></strong></dt>
<dd><p>returns <code class="code"><var class="Arg">g</var>^-1*<var class="Arg">f</var>*<var class="Arg">g</var></code> when <var class="Arg">f</var> is a transformation and <var class="Arg">g</var> is a permutation <code class="func">\^</code> (<a href="/Users/jdm/gap/doc/ref/chap4.html#X7B66C8707B5DE10A"><span class="RefLink">Reference: ^</span></a>).</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> * <var class="Arg">g</var></code></strong></dt>
<dd><p>returns the composition of the transformations <var class="Arg">f</var> and <var class="Arg">g</var>. <strong class="pkg">Citrus</strong> contains more efficient methods than the <strong class="pkg">GAP</strong> library for <code class="func">\*</code> (<a href="/Users/jdm/gap/doc/ref/chap4.html#X7B66C8707B5DE10A"><span class="RefLink">Reference: *</span></a>) when <var class="Arg">f</var> and <var class="Arg">g</var> are transformations or permutations (and at least one of <var class="Arg">f</var> and <var class="Arg">g</var> is a transformation).</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> &lt; <var class="Arg">g</var></code></strong></dt>
<dd><p>returns <code class="keyw">true</code> if <code class="code">ImageListOfTransformation(<var class="Arg">f</var>)</code> is lexicographically less than <code class="code">ImageListOfTransformation(<var class="Arg">g</var>)</code> and <code class="keyw">false</code> if it is not. See <code class="func">ImageListOfTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X7AEC9E6687B3505A"><span class="RefLink">Reference: ImageListOfTransformation</span></a>).</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> = <var class="Arg">g</var></code></strong></dt>
<dd><p>returns <code class="keyw">true</code> if the transformation <var class="Arg">f</var> equals the transformation <var class="Arg">g</var> and returns <code class="keyw">false</code> if it does not.</p>

</dd>
</dl>
<p><a id="X7FA29926872924D7" name="X7FA29926872924D7"></a></p>

<h4>2.7 <span class="Heading">Operators for partial permutations</span></h4>


<dl>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> ^ <var class="Arg">-1</var></code></strong></dt>
<dd><p>returns the inverse of the partial permutation <var class="Arg">f</var>.</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">i</var> ^ <var class="Arg">f</var></code></strong></dt>
<dd><p>returns the image of the positive integer <var class="Arg">i</var> under the partial permutation <var class="Arg">f</var> if <var class="Arg">f</var> is defined on <var class="Arg">i</var> and <code class="keyw">fail</code> if <var class="Arg">f</var> is undefined on <var class="Arg">i</var>.</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> * <var class="Arg">g</var></code></strong></dt>
<dd><p>returns the composition of the partial permutations <var class="Arg">f</var> and <var class="Arg">g</var>. Unlike transformations, but similar to permutations, in <strong class="pkg">GAP</strong> it is possible to multiply any two partial permutations. It is also possible to multiply partial permutations and permutations acting on integers not larger than 65535; see <code class="func">PartialPerm</code> (<a href="chap2.html#X80531F067E9E1EB9"><span class="RefLink">2.2-1</span></a>) for some further comments about composing partial permutations and permutations.</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> &lt; <var class="Arg">g</var></code></strong></dt>
<dd><p>returns <code class="keyw">true</code> if <code class="code">Concatenation(DomainOfPartialPerm(<var class="Arg">f</var>), RangeOfPartialPerm(<var class="Arg">f</var>))</code> is short-lex less than <code class="code">Concatenation(DomainOfPartialPerm(<var class="Arg">g</var>), RangeOfPartialPerm(<var class="Arg">g</var>))</code> and <code class="keyw">false</code> if it is not. Note that this is not the natural partial order on elements of an inverse semigroup; see <code class="func">NaturalLeqPartialPerm</code> (<a href="chap2.html#X87B1ED93785257C1"><span class="RefLink">2.7-1</span></a>).</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> = <var class="Arg">g</var></code></strong></dt>
<dd><p>returns <code class="keyw">true</code> if the partial permutation <var class="Arg">f</var> equals the partial permutation <var class="Arg">g</var> and returns <code class="keyw">false</code> if it is not.</p>

</dd>
<dt><strong class="Mark"><code class="code"><var class="Arg">f</var> / <var class="Arg">g</var></code></strong></dt>
<dd><p>returns <code class="code"><var class="Arg">f</var> * <var class="Arg">g^-1</var></code> where <var class="Arg">f</var> and <var class="Arg">g</var> are partial permutations; <code class="code"><var class="Arg">f</var> / <var class="Arg">g</var></code> has better performance than <code class="code"><var class="Arg">f</var> * <var class="Arg">g^-1</var></code>.</p>

</dd>
</dl>
<p><a id="X87B1ED93785257C1" name="X87B1ED93785257C1"></a></p>

<h5>2.7-1 NaturalLeqPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; NaturalLeqPartialPerm</code>( <var class="Arg">f</var>, <var class="Arg">g</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: <code class="keyw">true</code> or <code class="keyw">false</code>.</p>

<p>The <em>natural partial order</em> <span class="SimpleMath"></span> on an inverse semigroup <span class="SimpleMath">S</span> is defined by <span class="SimpleMath">s</span><span class="SimpleMath">t</span> if there exists an idempotent <span class="SimpleMath">e</span> in <span class="SimpleMath">S</span> such that <span class="SimpleMath">s=et</span>. Hence if <var class="Arg">f</var> and <var class="Arg">g</var> are partial permutations, then <var class="Arg">f</var><span class="SimpleMath"></span><var class="Arg">g</var> if and only if <var class="Arg">f</var> is a restriction of <var class="Arg">g</var>; see <code class="func">RestrictedPartialPerm</code> (<a href="chap2.html#X80ABBF4883C79060"><span class="RefLink">2.2-2</span></a>). <code class="code">NaturalLeqPartialPerm</code> returns <code class="keyw">true</code> if <var class="Arg">f</var> is a restriction of <var class="Arg">g</var> and <code class="keyw">false</code> if it is not.</p>


<div class="example"><pre><span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC( [ 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 16, 17, 18, 19 ], </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 3, 12, 14, 4, 11, 18, 17, 2, 9, 5, 15, 8, 20, 10, 19 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">set:=[ 1, 2, 3, 9, 13, 20 ];;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=RestrictedPartialPerm(f, set);</span>
[ 1 .. 3 ] -&gt; [ 3, 12, 14 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalLeqPartialPerm(g,f);</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalLeqPartialPerm(f,g);</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=PartialPermNC( [ 1, 2, 3, 4, 5, 8, 10 ], [ 7, 1, 4, 3, 2, 6, 5 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalLeqPartialPerm(f, g);</span>
false
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">NaturalLeqPartialPerm(g, f);</span>
false</pre></div>

<p><a id="X83608C407CC8836D" name="X83608C407CC8836D"></a></p>

<h4>2.8 <span class="Heading">Changing representations</span></h4>

<p>It is possible to change the representation of certain transformations and partial permutations using the functions described in this section.</p>

<p><a id="X78AA076A7F1C2E90" name="X78AA076A7F1C2E90"></a></p>

<h5>2.8-1 AsPermOfKerImg</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AsPermOfKerImg</code>( <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A permutation.</p>

<p>This function returns a permutation <code class="code">p</code> such that</p>


<div class="example"><pre>OnTuples(CanonicalTransSameKernel(f), p)=ImageListOfTransformation(f);</pre></div>

<p>See also <code class="func">CanonicalTransSameKernel</code> (<a href="chap2.html#X7CA4FE7A7C7EBBA3"><span class="RefLink">2.4-1</span></a>) and <code class="func">ImageListOfTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X7AEC9E6687B3505A"><span class="RefLink">Reference: ImageListOfTransformation</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 2, 1, 6, 1, 7, 6, 2, 8, 4, 7 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CanonicalTransSameKernel(f); ImageListOfTransformation(f);</span>
[ 1, 2, 3, 2, 4, 3, 1, 5, 6, 4 ]
[ 2, 1, 6, 1, 7, 6, 2, 8, 4, 7 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPermOfKerImg(f);</span>
(1,2)(3,6,4,7)(5,8)</pre></div>

<p><a id="X8353AB8987E35DF3" name="X8353AB8987E35DF3"></a></p>

<h5>2.8-2 AsPermutation</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AsPermutation</code>( <var class="Arg">f</var>[, <var class="Arg">set</var>] )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A permutation.</p>

<p>If the transformation or partial permutation <var class="Arg">f</var> is a permutation of the set of positive integers <var class="Arg">set</var>, then <code class="code">AsPermutation</code> returns this permutation; see <code class="func">Permutation</code> (<a href="/Users/jdm/gap/doc/ref/chap41.html#X7807A33381DCAB26"><span class="RefLink">Reference: Permutation</span></a>).</p>

<p>If the optional argument <var class="Arg">set</var> is not specified, then the image set of <var class="Arg">f</var> is used by default for transformations and the range of <var class="Arg">f</var> is used by default for partial permutations; see <code class="func">ImageSetOfTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X839A6D6082A21D1F"><span class="RefLink">Reference: ImageSetOfTransformation</span></a>) and <code class="func">RangeSetOfPartialPerm</code> (<a href="chap2.html#X875D378578CC10EA"><span class="RefLink">2.5-4</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 5, 8, 3, 5, 8, 6, 2, 2, 7, 8 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPermutation(f);</span>
fail
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 8, 2, 10, 2, 4, 4, 7, 6, 9, 10 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPermutation(f);</span>
fail
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 1, 3, 6, 6, 2, 10, 2, 3, 10, 5 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPermutation(f);</span>
(2,3,6,10,5)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 5, 2, 8, 4, 1, 8, 10, 3, 5, 7 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPermutation(f);       </span>
(1,5)(3,8)(7,10)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPermutation(f, [1,5]);</span>
(1,5)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPermutation(f, [3,8,7,10]);</span>
(3,8)(7,10)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm([ 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 16, 17, 18, 19 ],</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 3, 12, 14, 4, 11, 18, 17, 2, 9, 5, 15, 8, 20, 10, 19 ]);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPermutation(f);</span>
fail
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPermutation(f, [4,5,11]);</span>
(5,11)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=RandomPartialPerm(20);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPermutation(f^-1*f);</span>
()</pre></div>

<p><a id="X7B4CDC0579C6887F" name="X7B4CDC0579C6887F"></a></p>

<h5>2.8-3 <span class="Heading">AsPartialPerm</span></h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AsPartialPerm</code>( <var class="Arg">f</var>[, <var class="Arg">set</var>] )</td><td class="tdright">( function )</td></tr></table></div>
<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AsPartialPermNC</code>( <var class="Arg">f</var>[, <var class="Arg">set</var>] )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A partial permutation.</p>


<dl>
<dt><strong class="Mark">For permutations:</strong></dt>
<dd><p><code class="code">AsPartialPerm</code> and <code class="code">AsPartialPermNC</code> return the partial permutation that equals <var class="Arg">f</var> on the set of positive integers <var class="Arg">set</var> and is undefined elsewhere. If the optional second argument <var class="Arg">set</var> is not specfied, then <code class="code">MovedPoints(f)</code> is used; see <code class="func">MovedPoints</code> (<a href="/Users/jdm/gap/doc/ref/chap42.html#X85E61B9C7A6B0CCA"><span class="RefLink">Reference: MovedPoints (for a permutation)</span></a>).</p>

<p>If the optional second argument <var class="Arg">set</var> is specified, then <code class="code">AsPartialPerm</code> first checks that <var class="Arg">set</var> is a set of positive integers and then calls <code class="code">AsPartialPermNC</code>. If the optional second argument is not specified, then <code class="code">AsPartialPerm</code> simply calls <code class="code">AsPartialPermNC</code> and no further checks are performed.</p>

<p>Note that as explained in <code class="func">PartialPerm</code> (<a href="chap2.html#X80531F067E9E1EB9"><span class="RefLink">2.2-1</span></a>) <em>a permutation is never a partial permutation</em> in <strong class="pkg">GAP</strong>, please keep this in mind when using <code class="code">AsPartialPerm</code>.</p>

</dd>
<dt><strong class="Mark">For transformations:</strong></dt>
<dd><p>If <var class="Arg">f</var> is a transformation such that <code class="code">Degree(<var class="Arg">f</var>)^<var class="Arg">f</var>=Degree(<var class="Arg">f</var>)</code> and <var class="Arg">f</var> is injective except on those <code class="code">i</code> such that <code class="code">i^<var class="Arg">f</var>=Degree(f)</code>, then <code class="code">AsPartialPerm</code> returns the corresponding partial permutation.</p>

<p><code class="code">AsPartialPerm</code> first verifies that <var class="Arg">f</var> has the required form, whereas <code class="code">AsPartialPermNC</code> does not. There is currently no method for <code class="code">AsPartialPerm</code> or <code class="code">AsPartialPermNC</code> with two arguments.</p>

</dd>
</dl>

<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=(2,8,19,9,14,10,20,17,4,13,12,3,5,7,18,16);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPartialPerm(f);</span>
[ 2, 3, 4, 5, 7, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20 ] -&gt; 
[ 8, 5, 13, 7, 18, 19, 14, 20, 3, 12, 10, 2, 4, 16, 9, 17 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPartialPerm(f, [1,2,3]);</span>
[ 1 .. 3 ] -&gt; [ 1, 8, 5 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 8, 3, 5, 9, 6, 2, 9, 7, 9 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPartialPerm(f);</span>
[ 1, 2, 3, 5, 6, 8 ] -&gt; [ 8, 3, 5, 6, 2, 7 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPartialPermNC(f);</span>
[ 1, 2, 3, 5, 6, 8 ] -&gt; [ 8, 3, 5, 6, 2, 7 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 2, 10, 2, 4, 4, 7, 6, 9, 10, 1 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsPartialPerm(f);</span>
fail</pre></div>

<p><a id="X7C5360B2799943F3" name="X7C5360B2799943F3"></a></p>

<h5>2.8-4 AsTransformation</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AsTransformation</code>( <var class="Arg">f</var>[, <var class="Arg">n</var>] )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A transformation.</p>

<p>If <var class="Arg">f</var> is a partial permutation and <code class="code">m</code> is the largest point in the union of the domain and range of <var class="Arg">f</var>, then <code class="code">AsTransformation</code> returns the transformation <code class="code">g</code> such that <code class="code">i^g=i^f</code> for all <code class="code">i</code> in the domain of <var class="Arg">f</var> and <code class="code">i^g=m+1</code> for all <code class="code">i</code> in <span class="SimpleMath">{1,..., m+1}</span> that is not in the domain of <var class="Arg">f</var>.</p>

<p>If the optional second argument <var class="Arg">n</var> is a positive integer greater than the largest point in the union of the domain and range of <var class="Arg">f</var>, then the transformation obtained is defined by replacing <code class="code">m</code> in the definition of <code class="code">g</code> in previous paragraph by <code class="code">n</code>.</p>

<p>It is also possible to use <code class="code">AsTransformation</code> to convert permutations and binary relations into transformations; see <code class="func">AsTransformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X7C5360B2799943F3"><span class="RefLink">Reference: AsTransformation</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPerm([ 1, 2, 3, 4, 5, 8, 10 ], [ 3, 1, 4, 2, 5, 6, 7 ]);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsTransformation(f);</span>
Transformation( [ 3, 1, 4, 2, 5, 11, 11, 6, 11, 7, 11 ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsTransformation(f, 12);</span>
Transformation( [ 3, 1, 4, 2, 5, 12, 12, 6, 12, 7, 12, 12 ] )
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsTransformation(f, 14);</span>
Transformation( [ 3, 1, 4, 2, 5, 14, 14, 6, 14, 7, 14, 14, 14, 14 ] )</pre></div>

<p><a id="X833C5DA683E4EA15" name="X833C5DA683E4EA15"></a></p>

<h4>2.9 <span class="Heading">Actions</span></h4>

<p>The following actions of transformations and partial permutations are used by <strong class="pkg">Citrus</strong> in the computation of Green's relations and to test if an arbitrary transformation semigroup has a particular property; see Chapter <a href="chap4.html#X86BAA72482D1C658"><span class="RefLink">4</span></a> and <a href="/Users/jdm/gap/doc/ref/chap41.html#X81B8F9CD868CD953"><span class="RefLink">Reference: Basic Actions</span></a>.</p>

<p><a id="X849A43DE7AF3C639" name="X849A43DE7AF3C639"></a></p>

<h5>2.9-1 OnKernelsAntiAction</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; OnKernelsAntiAction</code>( <var class="Arg">ker</var>, <var class="Arg">f</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A list of positive integers.</p>

<p>The argument <var class="Arg">ker</var> should equal <code class="code">CanonicalTransSameKernel(g);</code> for some transformation <code class="code">g</code> with degree equal to the degree of the transformation <var class="Arg">f</var>. <code class="code">OnKernelsAntiAction</code> returns <code class="code">CanonicalTransSameKernel(f*g)</code>. See also <code class="func">CanonicalTransSameKernel</code> (<a href="chap2.html#X7CA4FE7A7C7EBBA3"><span class="RefLink">2.4-1</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=Transformation( [ 3, 6, 9, 2, 4, 2, 2, 2, 8, 2 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">g:=Transformation( [ 7, 1, 4, 3, 2, 7, 7, 6, 6, 5 ] );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ker:=CanonicalTransSameKernel(f);</span>
[ 1, 2, 3, 4, 5, 4, 4, 4, 6, 4 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OnKernelsAntiAction(ker, g);</span>
[ 1, 2, 1, 3, 4, 1, 1, 1, 1, 5 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">CanonicalTransSameKernel(g*f);</span>
[ 1, 2, 1, 3, 4, 1, 1, 1, 1, 5 ]</pre></div>

<p><a id="X7BDF1956855D75CC" name="X7BDF1956855D75CC"></a></p>

<h5>2.9-2 OnIntegerSetsWithPartialPerm</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; OnIntegerSetsWithPartialPerm</code>( <var class="Arg">set</var>, <var class="Arg">f</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A set of positive integers.</p>

<p><code class="code">OnIntegerSetsWithPartialPerm</code> is a special method for <code class="func">OnSets</code> (<a href="/Users/jdm/gap/doc/ref/chap41.html#X85AA04347CD117F9"><span class="RefLink">Reference: OnSets</span></a>) for a set of positive integers <var class="Arg">set</var> and a partial permutation <var class="Arg">f</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">f:=PartialPermNC([ 1, 2, 4, 5, 6, 8, 9, 10, 11, 15, 16, 17, 18 ],</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">[ 13, 20, 2, 14, 18, 7, 3, 19, 9, 11, 5, 16, 8 ]);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OnSets([1,2,3], f);</span>
[ 13, 20, fail ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OnIntegerSetsWithPartialPerm([1,2,3], f);</span>
[ 13, 20 ]</pre></div>

<p><a id="X814B3E6E7D3F1036" name="X814B3E6E7D3F1036"></a></p>

<h5>2.9-3 TransformationActionNC</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; TransformationActionNC</code>( <var class="Arg">obj</var>, <var class="Arg">list</var>, <var class="Arg">func</var> )</td><td class="tdright">( operation )</td></tr></table></div>
<p>Returns: A transformation or collection of transformations.</p>

<p>If <var class="Arg">obj</var> is a <strong class="pkg">GAP</strong> object that acts on the list <var class="Arg">list</var> via the function <var class="Arg">func</var>, then <code class="code">TransformationActionNC</code> returns this action as a transformation; see also <code class="func">Transformation</code> (<a href="/Users/jdm/gap/doc/ref/chap54.html#X7B2E556E7BCF9CDF"><span class="RefLink">Reference: Transformation</span></a>). Mathematically, the argument <var class="Arg">obj</var> should be an element of a semigroup so that the action of <var class="Arg">obj</var> on <var class="Arg">list</var> via <var class="Arg">func</var> is a <strong class="button">semigroup action</strong>. However, it is not technically necessary for <var class="Arg">obj</var> to be an element of a semigroup in <strong class="pkg">GAP</strong>.</p>

<p>If <var class="Arg">obj</var> is a semigroup, then <code class="code">TransformationActionNC</code> returns the list obtained from applying <code class="code">TransformationActionNC</code> to every generator of <var class="Arg">obj</var>.</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">mat:=OneMutable(GeneratorsOfGroup(GL(3,3))[1]);</span>
[ [ Z(3)^0, 0*Z(3), 0*Z(3) ], [ 0*Z(3), Z(3)^0, 0*Z(3) ],
  [ 0*Z(3), 0*Z(3), Z(3)^0 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">mat[3][3]:=Z(3)*0;</span>
0*Z(3)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">F:=BaseDomain(mat);</span>
GF(3)
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">TransformationActionNC(mat, Elements(F^3), OnRight);</span>
Transformation( [ 1, 1, 1, 4, 4, 4, 7, 7, 7, 10, 10, 10, 13, 13, 13, 16, 16,
  16, 19, 19, 19, 22, 22, 22, 25, 25, 25 ] )</pre></div>

<p><a id="X81E0FF0587C54543" name="X81E0FF0587C54543"></a></p>

<h4>2.10 <span class="Heading">Orbits</span></h4>

<p>The following functions supplement the <span class="URL"><a href=" http://www-groups.mcs.st-and.ac.uk/~neunhoef/Computer/Software/Gap/orb.html ">Orb</a></span> package by providing methods for computations related to the strongly connected components of an orbit of a semigroup.</p>

<p>Please note that if any of the functions in this section is applied to an open orbit, then the orbit is enumerated before anything else. It is not possible to calculate the strongly connected components of an orbit of a semigroup acting on a set until the entire orbit has been found.</p>

<p><a id="X8178A420792E6AAC" name="X8178A420792E6AAC"></a></p>

<h5>2.10-1 OrbSCC</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; OrbSCC</code>( <var class="Arg">o</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: The strongly connected components of an orbit.</p>

<p>If <var class="Arg">o</var> is an orbit created by the <strong class="pkg">Orb</strong> package with the option <code class="code">orbitgraph=true</code>, then <code class="code">OrbSCC</code> returns a set of sets of positions in <var class="Arg">o</var> corresponding to its strongly connected components.</p>

<p>See also <code class="func">OrbSCCLookup</code> (<a href="chap2.html#X814337A47B773F50"><span class="RefLink">2.10-2</span></a>) and <code class="func">OrbSCCTruthTable</code> (<a href="chap2.html#X78AFD003840823BD"><span class="RefLink">2.10-3</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S:=FullTransformationSemigroup(4);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">o:=ImagesOfTransSemigroup(S);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OrbSCC(o);</span>
[ [ 1 ], [ 2, 3, 4, 5 ], [ 6, 7, 8, 9, 10, 11 ], [ 12, 13, 14, 15 ] ]</pre></div>

<p><a id="X814337A47B773F50" name="X814337A47B773F50"></a></p>

<h5>2.10-2 OrbSCCLookup</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; OrbSCCLookup</code>( <var class="Arg">o</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A lookup table for the strongly connected components of an orbit.</p>

<p>If <var class="Arg">o</var> is an orbit created by the <strong class="pkg">Orb</strong> package with the option <code class="code">orbitgraph=true</code>, then <code class="code">OrbSCCLookup</code> returns a lookup table for its strongly connected components. More precisely, <code class="code">OrbSCCLookup(o)[i]</code> equals the index of the strongly connected component containing <code class="code">o[i]</code>.</p>

<p>See also <code class="func">OrbSCC</code> (<a href="chap2.html#X8178A420792E6AAC"><span class="RefLink">2.10-1</span></a>) and <code class="func">OrbSCCTruthTable</code> (<a href="chap2.html#X78AFD003840823BD"><span class="RefLink">2.10-3</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S:=FullTransformationSemigroup(4);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">o:=ImagesOfTransSemigroup(S);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OrbSCC(o);</span>
[ [ 1 ], [ 2, 3, 4, 5 ], [ 6, 7, 8, 9, 10, 11 ], [ 12, 13, 14, 15 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OrbSCCLookup(o);</span>
[ 1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OrbSCCLookup(o)[1]; OrbSCCLookup(o)[4]; OrbSCCLookup(o)[7]; </span>
1
2
3</pre></div>

<p><a id="X78AFD003840823BD" name="X78AFD003840823BD"></a></p>

<h5>2.10-3 OrbSCCTruthTable</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; OrbSCCTruthTable</code>( <var class="Arg">o</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: Truth tables for strongly connected components of an orbit.</p>

<p>If <var class="Arg">o</var> is an orbit created by the <strong class="pkg">Orb</strong> package with the option <code class="code">orbitgraph=true</code>, then <code class="code">OrbSCCTruthTable</code> returns a list of boolean lists such that <code class="code">OrbSCCTruthTable(o)[i][j]</code> is <code class="keyw">true</code> if <code class="code">j</code> belongs to <code class="code">OrbSCC(o)[i]</code>.</p>

<p>See also <code class="func">OrbSCC</code> (<a href="chap2.html#X8178A420792E6AAC"><span class="RefLink">2.10-1</span></a>) and <code class="func">OrbSCCLookup</code> (<a href="chap2.html#X814337A47B773F50"><span class="RefLink">2.10-2</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S:=FullTransformationSemigroup(4);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">o:=ImagesOfTransSemigroup(S);;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OrbSCC(o);</span>
[ [ 1 ], [ 2, 3, 4, 5 ], [ 6, 7, 8, 9, 10, 11 ], [ 12, 13, 14, 15 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OrbSCCTruthTable(o);</span>
[ [ true, false, false, false, false, false, false, false, false, false, 
      false, false, false, false, false ], 
  [ false, true, true, true, true, false, false, false, false, false, false, 
      false, false, false, false ], 
  [ false, false, false, false, false, true, true, true, true, true, true, 
      false, false, false, false ], 
  [ false, false, false, false, false, false, false, false, false, false, 
      false, true, true, true, true ] ]</pre></div>

<p><a id="X7D9A29B47D743213" name="X7D9A29B47D743213"></a></p>

<h5>2.10-4 ReverseSchreierTreeOfSCC</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; ReverseSchreierTreeOfSCC</code>( <var class="Arg">o</var>, <var class="Arg">i</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: The reverse Schreier tree corresponding to the <var class="Arg">i</var>th strongly connected component of an orbit.</p>

<p>If <var class="Arg">o</var> is an orbit created by the <strong class="pkg">Orb</strong> package with the option <code class="code">orbitgraph=true</code> and action <code class="code">act</code>, and <var class="Arg">i</var> is a positive integer, then <code class="code">ReverseSchreierTreeOfSCC(<var class="Arg">o</var>, <var class="Arg">i</var>)</code> returns a pair <code class="code">[ gen, pos ]</code> of lists with <code class="code">Length(o)</code> entries such that</p>


<div class="example"><pre>act(o[j], o!.gens[gen[j]])=o[pos[j]].</pre></div>

<p>The pair <code class="code">[ gen, pos ]</code> corresponds to a tree with root <code class="code">OrbSCC(o)[i][1]</code> and a path from every element of <code class="code">OrbSCC(o)[i]</code> to the root.</p>

<p>See also <code class="func">OrbSCC</code> (<a href="chap2.html#X8178A420792E6AAC"><span class="RefLink">2.10-1</span></a>), <code class="func">TraceSchreierTreeOfSCCBack</code> (<a href="chap2.html#X7853DC817C3102A4"><span class="RefLink">2.10-6</span></a>), <code class="func">SchreierTreeOfSCC</code> (<a href="chap2.html#X8071C7148255D0DB"><span class="RefLink">2.10-5</span></a>), and <code class="func">TraceSchreierTreeOfSCCForward</code> (<a href="chap2.html#X7D2E200A7B2D5946"><span class="RefLink">2.10-7</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S:=Semigroup(Transformation( [ 2, 2, 1, 4, 4 ] ), </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">Transformation( [ 3, 3, 3, 4, 5 ] ),</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">Transformation( [ 5, 1, 4, 5, 5 ] ) );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">o:=Orb(S, [1..4], OnSets, rec(orbitgraph:=true, schreier:=true));;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OrbSCC(o);</span>
[ [ 1 ], [ 2 ], [ 3, 5, 6, 7, 11 ], [ 4 ], [ 8 ], [ 9 ], [ 10, 12 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ReverseSchreierTreeOfSCC(o, 3);</span>
[ [ fail, fail, fail, fail, 2, 1, 2, fail, fail, fail, 1, fail ], 
  [ fail, fail, fail, fail, 3, 5, 3, fail, fail, fail, 7, fail ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ReverseSchreierTreeOfSCC(o, 7);</span>
[ [ fail, fail, fail, fail, fail, fail, fail, fail, fail, fail, fail, 3 ], 
  [ fail, fail, fail, fail, fail, fail, fail, fail, fail, fail, fail, 10 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OnSets(o[11], Generators(S)[1]);</span>
[ 1, 4 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Position(o, last);</span>
7</pre></div>

<p><a id="X8071C7148255D0DB" name="X8071C7148255D0DB"></a></p>

<h5>2.10-5 SchreierTreeOfSCC</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; SchreierTreeOfSCC</code>( <var class="Arg">o</var>, <var class="Arg">i</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: The Schreier tree corresponding to the <var class="Arg">i</var>th strongly connected component of an orbit.</p>

<p>If <var class="Arg">o</var> is an orbit created by the <strong class="pkg">Orb</strong> package with the option <code class="code">orbitgraph=true</code> and action <code class="code">act</code>, and <var class="Arg">i</var> is a positive integer, then <code class="code">SchreierTreeOfSCC(<var class="Arg">o</var>, <var class="Arg">i</var>)</code> returns a pair <code class="code">[ gen, pos ]</code> of lists with <code class="code">Length(o)</code> entries such that</p>


<div class="example"><pre>act(o[pos[j]], o!.gens[gen[j]])=o[j].</pre></div>

<p>The pair <code class="code">[ gen, pos ]</code> corresponds to a tree with root <code class="code">OrbSCC(o)[i][1]</code> and a path from the root to every element of <code class="code">OrbSCC(o)[i]</code>.</p>

<p>See also <code class="func">OrbSCC</code> (<a href="chap2.html#X8178A420792E6AAC"><span class="RefLink">2.10-1</span></a>), <code class="func">TraceSchreierTreeOfSCCBack</code> (<a href="chap2.html#X7853DC817C3102A4"><span class="RefLink">2.10-6</span></a>), <code class="func">ReverseSchreierTreeOfSCC</code> (<a href="chap2.html#X7D9A29B47D743213"><span class="RefLink">2.10-4</span></a>), and <code class="func">TraceSchreierTreeOfSCCForward</code> (<a href="chap2.html#X7D2E200A7B2D5946"><span class="RefLink">2.10-7</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S:=Semigroup(Transformation( [ 2, 2, 1, 4, 4 ] ), </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">Transformation( [ 3, 3, 3, 4, 5 ] ),</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">Transformation( [ 5, 1, 4, 5, 5 ] ) );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">o:=Orb(S, [1..4], OnSets, rec(orbitgraph:=true, schreier:=true));;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OrbSCC(o);</span>
[ [ 1 ], [ 2 ], [ 3, 5, 6, 7, 11 ], [ 4 ], [ 8 ], [ 9 ], [ 10, 12 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SchreierTreeOfSCC(o, 3);</span>
[ [ fail, fail, fail, fail, 1, 3, 1, fail, fail, fail, 2, fail ], 
  [ fail, fail, fail, fail, 7, 5, 3, fail, fail, fail, 6, fail ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SchreierTreeOfSCC(o, 7);</span>
[ [ fail, fail, fail, fail, fail, fail, fail, fail, fail, fail, fail, 1 ], 
  [ fail, fail, fail, fail, fail, fail, fail, fail, fail, fail, fail, 10 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OnSets(o[6], Generators(S)[2]);</span>
[ 3, 5 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Position(o, last);</span>
11</pre></div>

<p><a id="X7853DC817C3102A4" name="X7853DC817C3102A4"></a></p>

<h5>2.10-6 TraceSchreierTreeOfSCCBack</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; TraceSchreierTreeOfSCCBack</code>( <var class="Arg">orb</var>, <var class="Arg">m</var>, <var class="Arg">nr</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A word in the generators.</p>

<p><var class="Arg">orb</var> must be an orbit object with a Schreier tree and orbit graph, that is, the options <code class="code">schreier</code> and <code class="code">orbitgraph</code> must have been set to <code class="keyw">true</code> during the creation of the orbit, <var class="Arg">m</var> must be the number of a strongly connected component of <var class="Arg">orb</var>, and <code class="code">nr</code> must be the number of a point in the <var class="Arg">m</var>th strongly connect component of <var class="Arg">orb</var>. This operation traces the result of <code class="func">ReverseSchreierTreeOfSCC</code> (<a href="chap2.html#X7D9A29B47D743213"><span class="RefLink">2.10-4</span></a>) and with arguments <var class="Arg">orb</var> and <var class="Arg">m</var> and returns a word in the generators that maps the point with number <var class="Arg">nr</var> to the first point in the <var class="Arg">m</var>th strongly connected component of <var class="Arg">orb</var>. Here, a word is a list of integers, where positive integers are numbers of generators. See also <code class="func">OrbSCC</code> (<a href="chap2.html#X8178A420792E6AAC"><span class="RefLink">2.10-1</span></a>),<code class="func">EvaluateWord</code> (<a href="chap4.html#X799D2F3C866B9AED"><span class="RefLink">4.1-1</span></a>), <code class="func">ReverseSchreierTreeOfSCC</code> (<a href="chap2.html#X7D9A29B47D743213"><span class="RefLink">2.10-4</span></a>), <code class="func">SchreierTreeOfSCC</code> (<a href="chap2.html#X8071C7148255D0DB"><span class="RefLink">2.10-5</span></a>), and <code class="func">TraceSchreierTreeOfSCCForward</code> (<a href="chap2.html#X7D2E200A7B2D5946"><span class="RefLink">2.10-7</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S:=Semigroup(Transformation( [ 1, 3, 4, 1 ] ), </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">Transformation( [ 2, 4, 1, 2 ] ),</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">Transformation( [ 3, 1, 1, 3 ] ), </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">Transformation( [ 3, 3, 4, 1 ] ) );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">o:=Orb(S, [1..4], OnSets, rec(orbitgraph:=true, schreier:=true));;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OrbSCC(o);</span>
[ [ 1 ], [ 2 ], [ 3 ], [ 4, 5, 6, 7, 8 ], [ 9, 10, 11, 12 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">ReverseSchreierTreeOfSCC(o, 4);               </span>
[ [ fail, fail, fail, fail, 4, 1, 1, 3, fail, fail, fail, fail ], 
  [ fail, fail, fail, fail, 4, 4, 4, 4, fail, fail, fail, fail ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">TraceSchreierTreeOfSCCBack(o, 4, 7);</span>
[ 1 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">TraceSchreierTreeOfSCCBack(o, 4, 8);</span>
[ 3 ]</pre></div>

<p><a id="X7D2E200A7B2D5946" name="X7D2E200A7B2D5946"></a></p>

<h5>2.10-7 TraceSchreierTreeOfSCCForward</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; TraceSchreierTreeOfSCCForward</code>( <var class="Arg">orb</var>, <var class="Arg">m</var>, <var class="Arg">nr</var> )</td><td class="tdright">( function )</td></tr></table></div>
<p>Returns: A word in the generators.</p>

<p><var class="Arg">orb</var> must be an orbit object with a Schreier tree and orbit graph, that is, the options <code class="code">schreier</code> and <code class="code">orbitgraph</code> must have been set to <code class="keyw">true</code> during the creation of the orbit, <var class="Arg">m</var> must be the number of a strongly connected component of <var class="Arg">orb</var>, and <code class="code">nr</code> must be the number of a point in the <var class="Arg">m</var>th strongly connect component of <var class="Arg">orb</var>. This operation traces the result of <code class="func">SchreierTreeOfSCC</code> (<a href="chap2.html#X8071C7148255D0DB"><span class="RefLink">2.10-5</span></a>) and with arguments <var class="Arg">orb</var> and <var class="Arg">m</var> and returns a word in the generators that maps the first point in the <var class="Arg">m</var>th strongly connected component of <var class="Arg">orb</var> to the point with number <var class="Arg">nr</var>. Here, a word is a list of integers, where positive integers are numbers of generators. See also <code class="func">OrbSCC</code> (<a href="chap2.html#X8178A420792E6AAC"><span class="RefLink">2.10-1</span></a>), <code class="func">EvaluateWord</code> (<a href="chap4.html#X799D2F3C866B9AED"><span class="RefLink">4.1-1</span></a>), <code class="func">ReverseSchreierTreeOfSCC</code> (<a href="chap2.html#X7D9A29B47D743213"><span class="RefLink">2.10-4</span></a>), <code class="func">SchreierTreeOfSCC</code> (<a href="chap2.html#X8071C7148255D0DB"><span class="RefLink">2.10-5</span></a>), and <code class="func">TraceSchreierTreeOfSCCBack</code> (<a href="chap2.html#X7853DC817C3102A4"><span class="RefLink">2.10-6</span></a>).</p>


<div class="example"><pre>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">S:=Semigroup(Transformation( [ 1, 3, 4, 1 ] ), </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">Transformation( [ 2, 4, 1, 2 ] ),</span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">Transformation( [ 3, 1, 1, 3 ] ), </span>
<span class="GAPprompt">&gt;</span> <span class="GAPinput">Transformation( [ 3, 3, 4, 1 ] ) );;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">o:=Orb(S, [1..4], OnSets, rec(orbitgraph:=true, schreier:=true));;</span>
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">OrbSCC(o);</span>
[ [ 1 ], [ 2 ], [ 3 ], [ 4, 5, 6, 7, 8 ], [ 9, 10, 11, 12 ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">SchreierTreeOfSCC(o, 4);</span>
[ [ fail, fail, fail, fail, 1, 2, 2, 4, fail, fail, fail, fail ], 
  [ fail, fail, fail, fail, 4, 4, 6, 4, fail, fail, fail, fail ] ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">TraceSchreierTreeOfSCCForward(o, 4, 8);</span>
[ 4 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">TraceSchreierTreeOfSCCForward(o, 4, 7);</span>
[ 2, 2 ]</pre></div>


<div class="chlinkprevnextbot">&nbsp;<a href="chap0.html">[Top of Book]</a>&nbsp;  <a href="chap0.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap1.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chap3.html">[Next Chapter]</a>&nbsp;  </div>


<div class="chlinkbot"><span class="chlink1">Goto Chapter: </span><a href="chap0.html">Top</a>  <a href="chap1.html">1</a>  <a href="chap2.html">2</a>  <a href="chap3.html">3</a>  <a href="chap4.html">4</a>  <a href="chapBib.html">Bib</a>  <a href="chapInd.html">Ind</a>  </div>

<hr />
<p class="foot">generated by <a href="http://www.math.rwth-aachen.de/~Frank.Luebeck/GAPDoc">GAPDoc2HTML</a></p>
</body>
</html>
